(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Kd={exports:{}},ll={},Wd={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Symbol.for("react.element"),Yy=Symbol.for("react.portal"),Jy=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),ev=Symbol.for("react.profiler"),tv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),iv=Symbol.for("react.suspense"),ov=Symbol.for("react.memo"),sv=Symbol.for("react.lazy"),Jh=Symbol.iterator;function lv(t){return t===null||typeof t!="object"?null:(t=Jh&&t[Jh]||t["@@iterator"],typeof t=="function"?t:null)}var Gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qd=Object.assign,Xd={};function Kr(t,e,n){this.props=t,this.context=e,this.refs=Xd,this.updater=n||Gd}Kr.prototype.isReactComponent={};Kr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yd(){}Yd.prototype=Kr.prototype;function zu(t,e,n){this.props=t,this.context=e,this.refs=Xd,this.updater=n||Gd}var $u=zu.prototype=new Yd;$u.constructor=zu;qd($u,Kr.prototype);$u.isPureReactComponent=!0;var Zh=Array.isArray,Jd=Object.prototype.hasOwnProperty,Hu={current:null},Zd={key:!0,ref:!0,__self:!0,__source:!0};function ep(t,e,n){var r,i={},o=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Jd.call(e,r)&&!Zd.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:fo,type:t,key:o,ref:l,props:i,_owner:Hu.current}}function av(t,e){return{$$typeof:fo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bu(t){return typeof t=="object"&&t!==null&&t.$$typeof===fo}function uv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ef=/\/+/g;function ta(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uv(""+t.key):e.toString(36)}function as(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case fo:case Yy:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+ta(l,0):r,Zh(i)?(n="",t!=null&&(n=t.replace(ef,"$&/")+"/"),as(i,e,n,"",function(f){return f})):i!=null&&(bu(i)&&(i=av(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(ef,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Zh(t))for(var u=0;u<t.length;u++){o=t[u];var c=r+ta(o,u);l+=as(o,e,n,c,i)}else if(c=lv(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=r+ta(o,u++),l+=as(o,e,n,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function jo(t,e,n){if(t==null)return t;var r=[],i=0;return as(t,r,"","",function(o){return e.call(n,o,i++)}),r}function cv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},us={transition:null},hv={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:us,ReactCurrentOwner:Hu};function tp(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:jo,forEach:function(t,e,n){jo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jo(t,function(){e++}),e},toArray:function(t){return jo(t,function(e){return e})||[]},only:function(t){if(!bu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Kr;W.Fragment=Jy;W.Profiler=ev;W.PureComponent=zu;W.StrictMode=Zy;W.Suspense=iv;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hv;W.act=tp;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qd({},t.props),i=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Hu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Jd.call(e,c)&&!Zd.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:fo,type:t.type,key:i,ref:o,props:r,_owner:l}};W.createContext=function(t){return t={$$typeof:nv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tv,_context:t},t.Consumer=t};W.createElement=ep;W.createFactory=function(t){var e=ep.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:rv,render:t}};W.isValidElement=bu;W.lazy=function(t){return{$$typeof:sv,_payload:{_status:-1,_result:t},_init:cv}};W.memo=function(t,e){return{$$typeof:ov,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=us.transition;us.transition={};try{t()}finally{us.transition=e}};W.unstable_act=tp;W.useCallback=function(t,e){return Je.current.useCallback(t,e)};W.useContext=function(t){return Je.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};W.useEffect=function(t,e){return Je.current.useEffect(t,e)};W.useId=function(){return Je.current.useId()};W.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Je.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};W.useRef=function(t){return Je.current.useRef(t)};W.useState=function(t){return Je.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Je.current.useTransition()};W.version="18.3.1";Wd.exports=W;var Ot=Wd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv=Ot,dv=Symbol.for("react.element"),pv=Symbol.for("react.fragment"),mv=Object.prototype.hasOwnProperty,gv=fv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yv={key:!0,ref:!0,__self:!0,__source:!0};function np(t,e,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)mv.call(e,r)&&!yv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dv,type:t,key:o,ref:l,props:i,_owner:gv.current}}ll.Fragment=pv;ll.jsx=np;ll.jsxs=np;Kd.exports=ll;var we=Kd.exports,rp={exports:{}},ht={},ip={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,b){var Q=j.length;j.push(b);e:for(;0<Q;){var ue=Q-1>>>1,ee=j[ue];if(0<i(ee,b))j[ue]=b,j[Q]=ee,Q=ue;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var b=j[0],Q=j.pop();if(Q!==b){j[0]=Q;e:for(var ue=0,ee=j.length,ye=ee>>>1;ue<ye;){var jt=2*(ue+1)-1,zt=j[jt],$t=jt+1,Ht=j[$t];if(0>i(zt,Q))$t<ee&&0>i(Ht,zt)?(j[ue]=Ht,j[$t]=Q,ue=$t):(j[ue]=zt,j[jt]=Q,ue=jt);else if($t<ee&&0>i(Ht,Q))j[ue]=Ht,j[$t]=Q,ue=$t;else break e}}return b}function i(j,b){var Q=j.sortIndex-b.sortIndex;return Q!==0?Q:j.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var c=[],f=[],m=1,E=null,T=3,R=!1,D=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(j){for(var b=n(f);b!==null;){if(b.callback===null)r(f);else if(b.startTime<=j)r(f),b.sortIndex=b.expirationTime,e(c,b);else break;b=n(f)}}function V(j){if(N=!1,A(j),!D)if(n(c)!==null)D=!0,Jr(U);else{var b=n(f);b!==null&&Bt(V,b.startTime-j)}}function U(j,b){D=!1,N&&(N=!1,I(p),p=-1),R=!0;var Q=T;try{for(A(b),E=n(c);E!==null&&(!(E.expirationTime>b)||j&&!S());){var ue=E.callback;if(typeof ue=="function"){E.callback=null,T=E.priorityLevel;var ee=ue(E.expirationTime<=b);b=t.unstable_now(),typeof ee=="function"?E.callback=ee:E===n(c)&&r(c),A(b)}else r(c);E=n(c)}if(E!==null)var ye=!0;else{var jt=n(f);jt!==null&&Bt(V,jt.startTime-b),ye=!1}return ye}finally{E=null,T=Q,R=!1}}var B=!1,y=null,p=-1,g=5,w=-1;function S(){return!(t.unstable_now()-w<g)}function C(){if(y!==null){var j=t.unstable_now();w=j;var b=!0;try{b=y(!0,j)}finally{b?_():(B=!1,y=null)}}else B=!1}var _;if(typeof v=="function")_=function(){v(C)};else if(typeof MessageChannel<"u"){var dt=new MessageChannel,Ln=dt.port2;dt.port1.onmessage=C,_=function(){Ln.postMessage(null)}}else _=function(){F(C,0)};function Jr(j){y=j,B||(B=!0,_())}function Bt(j,b){p=F(function(){j(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){D||R||(D=!0,Jr(U))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(T){case 1:case 2:case 3:var b=3;break;default:b=T}var Q=T;T=b;try{return j()}finally{T=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,b){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=T;T=j;try{return b()}finally{T=Q}},t.unstable_scheduleCallback=function(j,b,Q){var ue=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,j={id:m++,callback:b,priorityLevel:j,startTime:Q,expirationTime:ee,sortIndex:-1},Q>ue?(j.sortIndex=Q,e(f,j),n(c)===null&&j===n(f)&&(N?(I(p),p=-1):N=!0,Bt(V,Q-ue))):(j.sortIndex=ee,e(c,j),D||R||(D=!0,Jr(U))),j},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(j){var b=T;return function(){var Q=T;T=b;try{return j.apply(this,arguments)}finally{T=Q}}}})(op);ip.exports=op;var vv=ip.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=Ot,ct=vv;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sp=new Set,ji={};function or(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(ji[t]=e,t=0;t<e.length;t++)sp.add(e[t])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oa=Object.prototype.hasOwnProperty,Ev=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tf={},nf={};function wv(t){return Oa.call(nf,t)?!0:Oa.call(tf,t)?!1:Ev.test(t)?nf[t]=!0:(tf[t]=!0,!1)}function Tv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iv(t,e,n,r){if(e===null||typeof e>"u"||Tv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,i,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qu=/[\-:]([a-z])/g;function Ku(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qu,Ku);Me[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qu,Ku);Me[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qu,Ku);Me[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wu(t,e,n,r){var i=Me.hasOwnProperty(e)?Me[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iv(e,n,i,r)&&(n=null),r||i===null?wv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var on=_v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),pr=Symbol.for("react.portal"),mr=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),La=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),ap=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),Ma=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),up=Symbol.for("react.offscreen"),rf=Symbol.iterator;function fi(t){return t===null||typeof t!="object"?null:(t=rf&&t[rf]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,na;function Ti(t){if(na===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);na=e&&e[1]||""}return`
`+na+t}var ra=!1;function ia(t,e){if(!t||ra)return"";ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,u=o.length-1;1<=l&&0<=u&&i[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==o[u]){var c=`
`+i[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=u);break}}}finally{ra=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ti(t):""}function Sv(t){switch(t.tag){case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 2:case 15:return t=ia(t.type,!1),t;case 11:return t=ia(t.type.render,!1),t;case 1:return t=ia(t.type,!0),t;default:return""}}function Ua(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mr:return"Fragment";case pr:return"Portal";case La:return"Profiler";case Gu:return"StrictMode";case Ma:return"Suspense";case Fa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ap:return(t.displayName||"Context")+".Consumer";case lp:return(t._context.displayName||"Context")+".Provider";case qu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xu:return e=t.displayName||null,e!==null?e:Ua(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return Ua(t(e))}catch{}}return null}function Av(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ua(e);case 8:return e===Gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Cn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Pv(t){var e=cp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $o(t){t._valueTracker||(t._valueTracker=Pv(t))}function hp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ba(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function of(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Cn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fp(t,e){e=e.checked,e!=null&&Wu(t,"checked",e,!1)}function ja(t,e){fp(t,e);var n=Cn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?za(t,e.type,n):e.hasOwnProperty("defaultValue")&&za(t,e.type,Cn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function za(t,e,n){(e!=="number"||Is(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ii=Array.isArray;function Pr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Cn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $a(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(Ii(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Cn(n)}}function dp(t,e){var n=Cn(e.value),r=Cn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function af(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ha(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,mp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cv=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(t){Cv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ci[e]=Ci[t]})});function gp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ci.hasOwnProperty(t)&&Ci[t]?(""+e).trim():e+"px"}function yp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=gp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rv=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(t,e){if(e){if(Rv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Qa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function Yu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wa=null,Cr=null,Rr=null;function uf(t){if(t=go(t)){if(typeof Wa!="function")throw Error(O(280));var e=t.stateNode;e&&(e=fl(e),Wa(t.stateNode,t.type,e))}}function vp(t){Cr?Rr?Rr.push(t):Rr=[t]:Cr=t}function _p(){if(Cr){var t=Cr,e=Rr;if(Rr=Cr=null,uf(t),e)for(t=0;t<e.length;t++)uf(e[t])}}function Ep(t,e){return t(e)}function wp(){}var oa=!1;function Tp(t,e,n){if(oa)return t(e,n);oa=!0;try{return Ep(t,e,n)}finally{oa=!1,(Cr!==null||Rr!==null)&&(wp(),_p())}}function $i(t,e){var n=t.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Ga=!1;if(Zt)try{var di={};Object.defineProperty(di,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",di,di),window.removeEventListener("test",di,di)}catch{Ga=!1}function kv(t,e,n,r,i,o,l,u,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(m){this.onError(m)}}var Ri=!1,Ss=null,As=!1,qa=null,Dv={onError:function(t){Ri=!0,Ss=t}};function Vv(t,e,n,r,i,o,l,u,c){Ri=!1,Ss=null,kv.apply(Dv,arguments)}function Nv(t,e,n,r,i,o,l,u,c){if(Vv.apply(this,arguments),Ri){if(Ri){var f=Ss;Ri=!1,Ss=null}else throw Error(O(198));As||(As=!0,qa=f)}}function sr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ip(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cf(t){if(sr(t)!==t)throw Error(O(188))}function xv(t){var e=t.alternate;if(!e){if(e=sr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cf(i),t;if(o===r)return cf(i),e;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Sp(t){return t=xv(t),t!==null?Ap(t):null}function Ap(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ap(t);if(e!==null)return e;t=t.sibling}return null}var Pp=ct.unstable_scheduleCallback,hf=ct.unstable_cancelCallback,Ov=ct.unstable_shouldYield,Lv=ct.unstable_requestPaint,ve=ct.unstable_now,Mv=ct.unstable_getCurrentPriorityLevel,Ju=ct.unstable_ImmediatePriority,Cp=ct.unstable_UserBlockingPriority,Ps=ct.unstable_NormalPriority,Fv=ct.unstable_LowPriority,Rp=ct.unstable_IdlePriority,al=null,Lt=null;function Uv(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:zv,Bv=Math.log,jv=Math.LN2;function zv(t){return t>>>=0,t===0?32:31-(Bv(t)/jv|0)|0}var bo=64,Qo=4194304;function Si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?r=Si(u):(o&=l,o!==0&&(r=Si(o)))}else l=n&~i,l!==0?r=Si(l):o!==0&&(r=Si(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rt(e),i=1<<n,r|=t[n],e&=~i;return r}function $v(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Rt(o),u=1<<l,c=i[l];c===-1?(!(u&n)||u&r)&&(i[l]=$v(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function Xa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kp(){var t=bo;return bo<<=1,!(bo&4194240)&&(bo=64),t}function sa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function po(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rt(e),t[e]=n}function bv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Zu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Z=0;function Dp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vp,ec,Np,xp,Op,Ya=!1,Ko=[],gn=null,yn=null,vn=null,Hi=new Map,bi=new Map,fn=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ff(t,e){switch(t){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":Hi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(e.pointerId)}}function pi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=go(e),e!==null&&ec(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kv(t,e,n,r,i){switch(e){case"focusin":return gn=pi(gn,t,e,n,r,i),!0;case"dragenter":return yn=pi(yn,t,e,n,r,i),!0;case"mouseover":return vn=pi(vn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hi.set(o,pi(Hi.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,bi.set(o,pi(bi.get(o)||null,t,e,n,r,i)),!0}return!1}function Lp(t){var e=Hn(t.target);if(e!==null){var n=sr(e);if(n!==null){if(e=n.tag,e===13){if(e=Ip(n),e!==null){t.blockedOn=e,Op(t.priority,function(){Np(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ja(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ka=r,n.target.dispatchEvent(r),Ka=null}else return e=go(n),e!==null&&ec(e),t.blockedOn=n,!1;e.shift()}return!0}function df(t,e,n){cs(t)&&n.delete(e)}function Wv(){Ya=!1,gn!==null&&cs(gn)&&(gn=null),yn!==null&&cs(yn)&&(yn=null),vn!==null&&cs(vn)&&(vn=null),Hi.forEach(df),bi.forEach(df)}function mi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ya||(Ya=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Wv)))}function Qi(t){function e(i){return mi(i,t)}if(0<Ko.length){mi(Ko[0],t);for(var n=1;n<Ko.length;n++){var r=Ko[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gn!==null&&mi(gn,t),yn!==null&&mi(yn,t),vn!==null&&mi(vn,t),Hi.forEach(e),bi.forEach(e),n=0;n<fn.length;n++)r=fn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Lp(n),n.blockedOn===null&&fn.shift()}var kr=on.ReactCurrentBatchConfig,Rs=!0;function Gv(t,e,n,r){var i=Z,o=kr.transition;kr.transition=null;try{Z=1,tc(t,e,n,r)}finally{Z=i,kr.transition=o}}function qv(t,e,n,r){var i=Z,o=kr.transition;kr.transition=null;try{Z=4,tc(t,e,n,r)}finally{Z=i,kr.transition=o}}function tc(t,e,n,r){if(Rs){var i=Ja(t,e,n,r);if(i===null)ga(t,e,r,ks,n),ff(t,r);else if(Kv(i,t,e,n,r))r.stopPropagation();else if(ff(t,r),e&4&&-1<Qv.indexOf(t)){for(;i!==null;){var o=go(i);if(o!==null&&Vp(o),o=Ja(t,e,n,r),o===null&&ga(t,e,r,ks,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else ga(t,e,r,null,n)}}var ks=null;function Ja(t,e,n,r){if(ks=null,t=Yu(r),t=Hn(t),t!==null)if(e=sr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ip(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ks=t,null}function Mp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mv()){case Ju:return 1;case Cp:return 4;case Ps:case Fv:return 16;case Rp:return 536870912;default:return 16}default:return 16}}var pn=null,nc=null,hs=null;function Fp(){if(hs)return hs;var t,e=nc,n=e.length,r,i="value"in pn?pn.value:pn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[o-r];r++);return hs=i.slice(t,1<r?1-r:void 0)}function fs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wo(){return!0}function pf(){return!1}function ft(t){function e(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wo:pf,this.isPropagationStopped=pf,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),e}var Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=ft(Wr),mo=de({},Wr,{view:0,detail:0}),Xv=ft(mo),la,aa,gi,ul=de({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(la=t.screenX-gi.screenX,aa=t.screenY-gi.screenY):aa=la=0,gi=t),la)},movementY:function(t){return"movementY"in t?t.movementY:aa}}),mf=ft(ul),Yv=de({},ul,{dataTransfer:0}),Jv=ft(Yv),Zv=de({},mo,{relatedTarget:0}),ua=ft(Zv),e_=de({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0}),t_=ft(e_),n_=de({},Wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),r_=ft(n_),i_=de({},Wr,{data:0}),gf=ft(i_),o_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=l_[t])?!!e[t]:!1}function ic(){return a_}var u_=de({},mo,{key:function(t){if(t.key){var e=o_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c_=ft(u_),h_=de({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yf=ft(h_),f_=de({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),d_=ft(f_),p_=de({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),m_=ft(p_),g_=de({},ul,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),y_=ft(g_),v_=[9,13,27,32],oc=Zt&&"CompositionEvent"in window,ki=null;Zt&&"documentMode"in document&&(ki=document.documentMode);var __=Zt&&"TextEvent"in window&&!ki,Up=Zt&&(!oc||ki&&8<ki&&11>=ki),vf=" ",_f=!1;function Bp(t,e){switch(t){case"keyup":return v_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gr=!1;function E_(t,e){switch(t){case"compositionend":return jp(e);case"keypress":return e.which!==32?null:(_f=!0,vf);case"textInput":return t=e.data,t===vf&&_f?null:t;default:return null}}function w_(t,e){if(gr)return t==="compositionend"||!oc&&Bp(t,e)?(t=Fp(),hs=nc=pn=null,gr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Up&&e.locale!=="ko"?null:e.data;default:return null}}var T_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!T_[t.type]:e==="textarea"}function zp(t,e,n,r){vp(r),e=Ds(e,"onChange"),0<e.length&&(n=new rc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Di=null,Ki=null;function I_(t){Jp(t,0)}function cl(t){var e=_r(t);if(hp(e))return t}function S_(t,e){if(t==="change")return e}var $p=!1;if(Zt){var ca;if(Zt){var ha="oninput"in document;if(!ha){var wf=document.createElement("div");wf.setAttribute("oninput","return;"),ha=typeof wf.oninput=="function"}ca=ha}else ca=!1;$p=ca&&(!document.documentMode||9<document.documentMode)}function Tf(){Di&&(Di.detachEvent("onpropertychange",Hp),Ki=Di=null)}function Hp(t){if(t.propertyName==="value"&&cl(Ki)){var e=[];zp(e,Ki,t,Yu(t)),Tp(I_,e)}}function A_(t,e,n){t==="focusin"?(Tf(),Di=e,Ki=n,Di.attachEvent("onpropertychange",Hp)):t==="focusout"&&Tf()}function P_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cl(Ki)}function C_(t,e){if(t==="click")return cl(e)}function R_(t,e){if(t==="input"||t==="change")return cl(e)}function k_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dt=typeof Object.is=="function"?Object.is:k_;function Wi(t,e){if(Dt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Oa.call(e,i)||!Dt(t[i],e[i]))return!1}return!0}function If(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sf(t,e){var n=If(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=If(n)}}function bp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qp(){for(var t=window,e=Is();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Is(t.document)}return e}function sc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D_(t){var e=Qp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bp(n.ownerDocument.documentElement,n)){if(r!==null&&sc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Sf(n,o);var l=Sf(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V_=Zt&&"documentMode"in document&&11>=document.documentMode,yr=null,Za=null,Vi=null,eu=!1;function Af(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||yr==null||yr!==Is(r)||(r=yr,"selectionStart"in r&&sc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vi&&Wi(Vi,r)||(Vi=r,r=Ds(Za,"onSelect"),0<r.length&&(e=new rc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}function Go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vr={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionend:Go("Transition","TransitionEnd")},fa={},Kp={};Zt&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function hl(t){if(fa[t])return fa[t];if(!vr[t])return t;var e=vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Kp)return fa[t]=e[n];return t}var Wp=hl("animationend"),Gp=hl("animationiteration"),qp=hl("animationstart"),Xp=hl("transitionend"),Yp=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){Yp.set(t,e),or(e,[t])}for(var da=0;da<Pf.length;da++){var pa=Pf[da],N_=pa.toLowerCase(),x_=pa[0].toUpperCase()+pa.slice(1);Nn(N_,"on"+x_)}Nn(Wp,"onAnimationEnd");Nn(Gp,"onAnimationIteration");Nn(qp,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(Xp,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Cf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Nv(r,e,void 0,t),t.currentTarget=null}function Jp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&i.isPropagationStopped())break e;Cf(i,u,f),o=c}else for(l=0;l<r.length;l++){if(u=r[l],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&i.isPropagationStopped())break e;Cf(i,u,f),o=c}}}if(As)throw t=qa,As=!1,qa=null,t}function se(t,e){var n=e[ou];n===void 0&&(n=e[ou]=new Set);var r=t+"__bubble";n.has(r)||(Zp(e,t,2,!1),n.add(r))}function ma(t,e,n){var r=0;e&&(r|=4),Zp(n,t,r,e)}var qo="_reactListening"+Math.random().toString(36).slice(2);function Gi(t){if(!t[qo]){t[qo]=!0,sp.forEach(function(n){n!=="selectionchange"&&(O_.has(n)||ma(n,!1,t),ma(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qo]||(e[qo]=!0,ma("selectionchange",!1,e))}}function Zp(t,e,n,r){switch(Mp(e)){case 1:var i=Gv;break;case 4:i=qv;break;default:i=tc}n=i.bind(null,e,n,t),i=void 0,!Ga||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ga(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Hn(u),l===null)return;if(c=l.tag,c===5||c===6){r=o=l;continue e}u=u.parentNode}}r=r.return}Tp(function(){var f=o,m=Yu(n),E=[];e:{var T=Yp.get(t);if(T!==void 0){var R=rc,D=t;switch(t){case"keypress":if(fs(n)===0)break e;case"keydown":case"keyup":R=c_;break;case"focusin":D="focus",R=ua;break;case"focusout":D="blur",R=ua;break;case"beforeblur":case"afterblur":R=ua;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=Jv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=d_;break;case Wp:case Gp:case qp:R=t_;break;case Xp:R=m_;break;case"scroll":R=Xv;break;case"wheel":R=y_;break;case"copy":case"cut":case"paste":R=r_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=yf}var N=(e&4)!==0,F=!N&&t==="scroll",I=N?T!==null?T+"Capture":null:T;N=[];for(var v=f,A;v!==null;){A=v;var V=A.stateNode;if(A.tag===5&&V!==null&&(A=V,I!==null&&(V=$i(v,I),V!=null&&N.push(qi(v,V,A)))),F)break;v=v.return}0<N.length&&(T=new R(T,D,null,n,m),E.push({event:T,listeners:N}))}}if(!(e&7)){e:{if(T=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",T&&n!==Ka&&(D=n.relatedTarget||n.fromElement)&&(Hn(D)||D[en]))break e;if((R||T)&&(T=m.window===m?m:(T=m.ownerDocument)?T.defaultView||T.parentWindow:window,R?(D=n.relatedTarget||n.toElement,R=f,D=D?Hn(D):null,D!==null&&(F=sr(D),D!==F||D.tag!==5&&D.tag!==6)&&(D=null)):(R=null,D=f),R!==D)){if(N=mf,V="onMouseLeave",I="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=yf,V="onPointerLeave",I="onPointerEnter",v="pointer"),F=R==null?T:_r(R),A=D==null?T:_r(D),T=new N(V,v+"leave",R,n,m),T.target=F,T.relatedTarget=A,V=null,Hn(m)===f&&(N=new N(I,v+"enter",D,n,m),N.target=A,N.relatedTarget=F,V=N),F=V,R&&D)t:{for(N=R,I=D,v=0,A=N;A;A=fr(A))v++;for(A=0,V=I;V;V=fr(V))A++;for(;0<v-A;)N=fr(N),v--;for(;0<A-v;)I=fr(I),A--;for(;v--;){if(N===I||I!==null&&N===I.alternate)break t;N=fr(N),I=fr(I)}N=null}else N=null;R!==null&&Rf(E,T,R,N,!1),D!==null&&F!==null&&Rf(E,F,D,N,!0)}}e:{if(T=f?_r(f):window,R=T.nodeName&&T.nodeName.toLowerCase(),R==="select"||R==="input"&&T.type==="file")var U=S_;else if(Ef(T))if($p)U=R_;else{U=P_;var B=A_}else(R=T.nodeName)&&R.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(U=C_);if(U&&(U=U(t,f))){zp(E,U,n,m);break e}B&&B(t,T,f),t==="focusout"&&(B=T._wrapperState)&&B.controlled&&T.type==="number"&&za(T,"number",T.value)}switch(B=f?_r(f):window,t){case"focusin":(Ef(B)||B.contentEditable==="true")&&(yr=B,Za=f,Vi=null);break;case"focusout":Vi=Za=yr=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Af(E,n,m);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":Af(E,n,m)}var y;if(oc)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else gr?Bp(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(Up&&n.locale!=="ko"&&(gr||p!=="onCompositionStart"?p==="onCompositionEnd"&&gr&&(y=Fp()):(pn=m,nc="value"in pn?pn.value:pn.textContent,gr=!0)),B=Ds(f,p),0<B.length&&(p=new gf(p,t,null,n,m),E.push({event:p,listeners:B}),y?p.data=y:(y=jp(n),y!==null&&(p.data=y)))),(y=__?E_(t,n):w_(t,n))&&(f=Ds(f,"onBeforeInput"),0<f.length&&(m=new gf("onBeforeInput","beforeinput",null,n,m),E.push({event:m,listeners:f}),m.data=y))}Jp(E,e)})}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ds(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$i(t,n),o!=null&&r.unshift(qi(t,o,i)),o=$i(t,e),o!=null&&r.push(qi(t,o,i))),t=t.return}return r}function fr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,e,n,r,i){for(var o=e._reactName,l=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,i?(c=$i(n,o),c!=null&&l.unshift(qi(n,c,u))):i||(c=$i(n,o),c!=null&&l.push(qi(n,c,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var L_=/\r\n?/g,M_=/\u0000|\uFFFD/g;function kf(t){return(typeof t=="string"?t:""+t).replace(L_,`
`).replace(M_,"")}function Xo(t,e,n){if(e=kf(e),kf(t)!==e&&n)throw Error(O(425))}function Vs(){}var tu=null,nu=null;function ru(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iu=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,Df=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof Df<"u"?function(t){return Df.resolve(null).then(t).catch(B_)}:iu;function B_(t){setTimeout(function(){throw t})}function ya(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qi(e)}function _n(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),xt="__reactFiber$"+Gr,Xi="__reactProps$"+Gr,en="__reactContainer$"+Gr,ou="__reactEvents$"+Gr,j_="__reactListeners$"+Gr,z_="__reactHandles$"+Gr;function Hn(t){var e=t[xt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[en]||n[xt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vf(t);t!==null;){if(n=t[xt])return n;t=Vf(t)}return e}t=n,n=t.parentNode}return null}function go(t){return t=t[xt]||t[en],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function fl(t){return t[Xi]||null}var su=[],Er=-1;function xn(t){return{current:t}}function le(t){0>Er||(t.current=su[Er],su[Er]=null,Er--)}function re(t,e){Er++,su[Er]=t.current,t.current=e}var Rn={},We=xn(Rn),nt=xn(!1),Yn=Rn;function Lr(t,e){var n=t.type.contextTypes;if(!n)return Rn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rt(t){return t=t.childContextTypes,t!=null}function Ns(){le(nt),le(We)}function Nf(t,e,n){if(We.current!==Rn)throw Error(O(168));re(We,e),re(nt,n)}function em(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,Av(t)||"Unknown",i));return de({},n,r)}function xs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,Yn=We.current,re(We,t),re(nt,nt.current),!0}function xf(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=em(t,e,Yn),r.__reactInternalMemoizedMergedChildContext=t,le(nt),le(We),re(We,t)):le(nt),re(nt,n)}var Wt=null,dl=!1,va=!1;function tm(t){Wt===null?Wt=[t]:Wt.push(t)}function $_(t){dl=!0,tm(t)}function On(){if(!va&&Wt!==null){va=!0;var t=0,e=Z;try{var n=Wt;for(Z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Wt=null,dl=!1}catch(i){throw Wt!==null&&(Wt=Wt.slice(t+1)),Pp(Ju,On),i}finally{Z=e,va=!1}}return null}var wr=[],Tr=0,Os=null,Ls=0,pt=[],mt=0,Jn=null,Gt=1,qt="";function jn(t,e){wr[Tr++]=Ls,wr[Tr++]=Os,Os=t,Ls=e}function nm(t,e,n){pt[mt++]=Gt,pt[mt++]=qt,pt[mt++]=Jn,Jn=t;var r=Gt;t=qt;var i=32-Rt(r)-1;r&=~(1<<i),n+=1;var o=32-Rt(e)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Gt=1<<32-Rt(e)+i|n<<i|r,qt=o+t}else Gt=1<<o|n<<i|r,qt=t}function lc(t){t.return!==null&&(jn(t,1),nm(t,1,0))}function ac(t){for(;t===Os;)Os=wr[--Tr],wr[Tr]=null,Ls=wr[--Tr],wr[Tr]=null;for(;t===Jn;)Jn=pt[--mt],pt[mt]=null,qt=pt[--mt],pt[mt]=null,Gt=pt[--mt],pt[mt]=null}var ut=null,at=null,ae=!1,St=null;function rm(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Of(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,at=_n(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jn!==null?{id:Gt,overflow:qt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,at=null,!0):!1;default:return!1}}function lu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function au(t){if(ae){var e=at;if(e){var n=e;if(!Of(t,e)){if(lu(t))throw Error(O(418));e=_n(n.nextSibling);var r=ut;e&&Of(t,e)?rm(r,n):(t.flags=t.flags&-4097|2,ae=!1,ut=t)}}else{if(lu(t))throw Error(O(418));t.flags=t.flags&-4097|2,ae=!1,ut=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function Yo(t){if(t!==ut)return!1;if(!ae)return Lf(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ru(t.type,t.memoizedProps)),e&&(e=at)){if(lu(t))throw im(),Error(O(418));for(;e;)rm(t,e),e=_n(e.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=_n(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=ut?_n(t.stateNode.nextSibling):null;return!0}function im(){for(var t=at;t;)t=_n(t.nextSibling)}function Mr(){at=ut=null,ae=!1}function uc(t){St===null?St=[t]:St.push(t)}var H_=on.ReactCurrentBatchConfig;function yi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=i.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function Jo(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mf(t){var e=t._init;return e(t._payload)}function om(t){function e(I,v){if(t){var A=I.deletions;A===null?(I.deletions=[v],I.flags|=16):A.push(v)}}function n(I,v){if(!t)return null;for(;v!==null;)e(I,v),v=v.sibling;return null}function r(I,v){for(I=new Map;v!==null;)v.key!==null?I.set(v.key,v):I.set(v.index,v),v=v.sibling;return I}function i(I,v){return I=In(I,v),I.index=0,I.sibling=null,I}function o(I,v,A){return I.index=A,t?(A=I.alternate,A!==null?(A=A.index,A<v?(I.flags|=2,v):A):(I.flags|=2,v)):(I.flags|=1048576,v)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function u(I,v,A,V){return v===null||v.tag!==6?(v=Aa(A,I.mode,V),v.return=I,v):(v=i(v,A),v.return=I,v)}function c(I,v,A,V){var U=A.type;return U===mr?m(I,v,A.props.children,V,A.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===cn&&Mf(U)===v.type)?(V=i(v,A.props),V.ref=yi(I,v,A),V.return=I,V):(V=_s(A.type,A.key,A.props,null,I.mode,V),V.ref=yi(I,v,A),V.return=I,V)}function f(I,v,A,V){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=Pa(A,I.mode,V),v.return=I,v):(v=i(v,A.children||[]),v.return=I,v)}function m(I,v,A,V,U){return v===null||v.tag!==7?(v=Gn(A,I.mode,V,U),v.return=I,v):(v=i(v,A),v.return=I,v)}function E(I,v,A){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Aa(""+v,I.mode,A),v.return=I,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:return A=_s(v.type,v.key,v.props,null,I.mode,A),A.ref=yi(I,null,v),A.return=I,A;case pr:return v=Pa(v,I.mode,A),v.return=I,v;case cn:var V=v._init;return E(I,V(v._payload),A)}if(Ii(v)||fi(v))return v=Gn(v,I.mode,A,null),v.return=I,v;Jo(I,v)}return null}function T(I,v,A,V){var U=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return U!==null?null:u(I,v,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zo:return A.key===U?c(I,v,A,V):null;case pr:return A.key===U?f(I,v,A,V):null;case cn:return U=A._init,T(I,v,U(A._payload),V)}if(Ii(A)||fi(A))return U!==null?null:m(I,v,A,V,null);Jo(I,A)}return null}function R(I,v,A,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return I=I.get(A)||null,u(v,I,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case zo:return I=I.get(V.key===null?A:V.key)||null,c(v,I,V,U);case pr:return I=I.get(V.key===null?A:V.key)||null,f(v,I,V,U);case cn:var B=V._init;return R(I,v,A,B(V._payload),U)}if(Ii(V)||fi(V))return I=I.get(A)||null,m(v,I,V,U,null);Jo(v,V)}return null}function D(I,v,A,V){for(var U=null,B=null,y=v,p=v=0,g=null;y!==null&&p<A.length;p++){y.index>p?(g=y,y=null):g=y.sibling;var w=T(I,y,A[p],V);if(w===null){y===null&&(y=g);break}t&&y&&w.alternate===null&&e(I,y),v=o(w,v,p),B===null?U=w:B.sibling=w,B=w,y=g}if(p===A.length)return n(I,y),ae&&jn(I,p),U;if(y===null){for(;p<A.length;p++)y=E(I,A[p],V),y!==null&&(v=o(y,v,p),B===null?U=y:B.sibling=y,B=y);return ae&&jn(I,p),U}for(y=r(I,y);p<A.length;p++)g=R(y,I,p,A[p],V),g!==null&&(t&&g.alternate!==null&&y.delete(g.key===null?p:g.key),v=o(g,v,p),B===null?U=g:B.sibling=g,B=g);return t&&y.forEach(function(S){return e(I,S)}),ae&&jn(I,p),U}function N(I,v,A,V){var U=fi(A);if(typeof U!="function")throw Error(O(150));if(A=U.call(A),A==null)throw Error(O(151));for(var B=U=null,y=v,p=v=0,g=null,w=A.next();y!==null&&!w.done;p++,w=A.next()){y.index>p?(g=y,y=null):g=y.sibling;var S=T(I,y,w.value,V);if(S===null){y===null&&(y=g);break}t&&y&&S.alternate===null&&e(I,y),v=o(S,v,p),B===null?U=S:B.sibling=S,B=S,y=g}if(w.done)return n(I,y),ae&&jn(I,p),U;if(y===null){for(;!w.done;p++,w=A.next())w=E(I,w.value,V),w!==null&&(v=o(w,v,p),B===null?U=w:B.sibling=w,B=w);return ae&&jn(I,p),U}for(y=r(I,y);!w.done;p++,w=A.next())w=R(y,I,p,w.value,V),w!==null&&(t&&w.alternate!==null&&y.delete(w.key===null?p:w.key),v=o(w,v,p),B===null?U=w:B.sibling=w,B=w);return t&&y.forEach(function(C){return e(I,C)}),ae&&jn(I,p),U}function F(I,v,A,V){if(typeof A=="object"&&A!==null&&A.type===mr&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case zo:e:{for(var U=A.key,B=v;B!==null;){if(B.key===U){if(U=A.type,U===mr){if(B.tag===7){n(I,B.sibling),v=i(B,A.props.children),v.return=I,I=v;break e}}else if(B.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===cn&&Mf(U)===B.type){n(I,B.sibling),v=i(B,A.props),v.ref=yi(I,B,A),v.return=I,I=v;break e}n(I,B);break}else e(I,B);B=B.sibling}A.type===mr?(v=Gn(A.props.children,I.mode,V,A.key),v.return=I,I=v):(V=_s(A.type,A.key,A.props,null,I.mode,V),V.ref=yi(I,v,A),V.return=I,I=V)}return l(I);case pr:e:{for(B=A.key;v!==null;){if(v.key===B)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(I,v.sibling),v=i(v,A.children||[]),v.return=I,I=v;break e}else{n(I,v);break}else e(I,v);v=v.sibling}v=Pa(A,I.mode,V),v.return=I,I=v}return l(I);case cn:return B=A._init,F(I,v,B(A._payload),V)}if(Ii(A))return D(I,v,A,V);if(fi(A))return N(I,v,A,V);Jo(I,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,v!==null&&v.tag===6?(n(I,v.sibling),v=i(v,A),v.return=I,I=v):(n(I,v),v=Aa(A,I.mode,V),v.return=I,I=v),l(I)):n(I,v)}return F}var Fr=om(!0),sm=om(!1),Ms=xn(null),Fs=null,Ir=null,cc=null;function hc(){cc=Ir=Fs=null}function fc(t){var e=Ms.current;le(Ms),t._currentValue=e}function uu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Dr(t,e){Fs=t,cc=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(cc!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(Fs===null)throw Error(O(308));Ir=t,Fs.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var bn=null;function dc(t){bn===null?bn=[t]:bn.push(t)}function lm(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dc(e)):(n.next=i.next,i.next=n),e.interleaved=n,tn(t,r)}function tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hn=!1;function pc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tn(t,n)}return i=r.interleaved,i===null?(e.next=e,dc(r)):(e.next=i.next,i.next=e),r.interleaved=e,tn(t,n)}function ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zu(t,n)}}function Ff(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Us(t,e,n,r){var i=t.updateQueue;hn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,f=c.next;c.next=null,l===null?o=f:l.next=f,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=c))}if(o!==null){var E=i.baseState;l=0,m=f=c=null,u=o;do{var T=u.lane,R=u.eventTime;if((r&T)===T){m!==null&&(m=m.next={eventTime:R,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var D=t,N=u;switch(T=e,R=n,N.tag){case 1:if(D=N.payload,typeof D=="function"){E=D.call(R,E,T);break e}E=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=N.payload,T=typeof D=="function"?D.call(R,E,T):D,T==null)break e;E=de({},E,T);break e;case 2:hn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[u]:T.push(u))}else R={eventTime:R,lane:T,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=R,c=E):m=m.next=R,l|=T;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;T=u,u=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(!0);if(m===null&&(c=E),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);er|=l,t.lanes=l,t.memoizedState=E}}function Uf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var yo={},Mt=xn(yo),Yi=xn(yo),Ji=xn(yo);function Qn(t){if(t===yo)throw Error(O(174));return t}function mc(t,e){switch(re(Ji,e),re(Yi,t),re(Mt,yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ha(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ha(e,t)}le(Mt),re(Mt,e)}function Ur(){le(Mt),le(Yi),le(Ji)}function um(t){Qn(Ji.current);var e=Qn(Mt.current),n=Ha(e,t.type);e!==n&&(re(Yi,t),re(Mt,n))}function gc(t){Yi.current===t&&(le(Mt),le(Yi))}var he=xn(0);function Bs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _a=[];function yc(){for(var t=0;t<_a.length;t++)_a[t]._workInProgressVersionPrimary=null;_a.length=0}var ps=on.ReactCurrentDispatcher,Ea=on.ReactCurrentBatchConfig,Zn=0,fe=null,Ie=null,Pe=null,js=!1,Ni=!1,Zi=0,b_=0;function je(){throw Error(O(321))}function vc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dt(t[n],e[n]))return!1;return!0}function _c(t,e,n,r,i,o){if(Zn=o,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=t===null||t.memoizedState===null?G_:q_,t=n(r,i),Ni){o=0;do{if(Ni=!1,Zi=0,25<=o)throw Error(O(301));o+=1,Pe=Ie=null,e.updateQueue=null,ps.current=X_,t=n(r,i)}while(Ni)}if(ps.current=zs,e=Ie!==null&&Ie.next!==null,Zn=0,Pe=Ie=fe=null,js=!1,e)throw Error(O(300));return t}function Ec(){var t=Zi!==0;return Zi=0,t}function Nt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function _t(){if(Ie===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Pe===null?fe.memoizedState:Pe.next;if(e!==null)Pe=e,Ie=t;else{if(t===null)throw Error(O(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function eo(t,e){return typeof e=="function"?e(t):e}function wa(t){var e=_t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=Ie,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var u=l=null,c=null,f=o;do{var m=f.lane;if((Zn&m)===m)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var E={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=E,l=r):c=c.next=E,fe.lanes|=m,er|=m}f=f.next}while(f!==null&&f!==o);c===null?l=r:c.next=u,Dt(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fe.lanes|=o,er|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ta(t){var e=_t(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=t(o,l.action),l=l.next;while(l!==i);Dt(o,e.memoizedState)||(tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function cm(){}function hm(t,e){var n=fe,r=_t(),i=e(),o=!Dt(r.memoizedState,i);if(o&&(r.memoizedState=i,tt=!0),r=r.queue,wc(pm.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,to(9,dm.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(O(349));Zn&30||fm(n,e,i)}return i}function fm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dm(t,e,n,r){e.value=n,e.getSnapshot=r,mm(e)&&gm(t)}function pm(t,e,n){return n(function(){mm(e)&&gm(t)})}function mm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dt(t,n)}catch{return!0}}function gm(t){var e=tn(t,1);e!==null&&kt(e,t,1,-1)}function Bf(t){var e=Nt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eo,lastRenderedState:t},e.queue=t,t=t.dispatch=W_.bind(null,fe,t),[e.memoizedState,t]}function to(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ym(){return _t().memoizedState}function ms(t,e,n,r){var i=Nt();fe.flags|=t,i.memoizedState=to(1|e,n,void 0,r===void 0?null:r)}function pl(t,e,n,r){var i=_t();r=r===void 0?null:r;var o=void 0;if(Ie!==null){var l=Ie.memoizedState;if(o=l.destroy,r!==null&&vc(r,l.deps)){i.memoizedState=to(e,n,o,r);return}}fe.flags|=t,i.memoizedState=to(1|e,n,o,r)}function jf(t,e){return ms(8390656,8,t,e)}function wc(t,e){return pl(2048,8,t,e)}function vm(t,e){return pl(4,2,t,e)}function _m(t,e){return pl(4,4,t,e)}function Em(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wm(t,e,n){return n=n!=null?n.concat([t]):null,pl(4,4,Em.bind(null,e,t),n)}function Tc(){}function Tm(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Im(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sm(t,e,n){return Zn&21?(Dt(n,e)||(n=kp(),fe.lanes|=n,er|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function Q_(t,e){var n=Z;Z=n!==0&&4>n?n:4,t(!0);var r=Ea.transition;Ea.transition={};try{t(!1),e()}finally{Z=n,Ea.transition=r}}function Am(){return _t().memoizedState}function K_(t,e,n){var r=Tn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pm(t))Cm(e,n);else if(n=lm(t,e,n,r),n!==null){var i=Ye();kt(n,t,r,i),Rm(n,e,r)}}function W_(t,e,n){var r=Tn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pm(t))Cm(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,n);if(i.hasEagerState=!0,i.eagerState=u,Dt(u,l)){var c=e.interleaved;c===null?(i.next=i,dc(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=lm(t,e,i,r),n!==null&&(i=Ye(),kt(n,t,r,i),Rm(n,e,r))}}function Pm(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Cm(t,e){Ni=js=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zu(t,n)}}var zs={readContext:vt,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},G_={readContext:vt,useCallback:function(t,e){return Nt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:jf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ms(4194308,4,Em.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ms(4194308,4,t,e)},useInsertionEffect:function(t,e){return ms(4,2,t,e)},useMemo:function(t,e){var n=Nt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=K_.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=Nt();return t={current:t},e.memoizedState=t},useState:Bf,useDebugValue:Tc,useDeferredValue:function(t){return Nt().memoizedState=t},useTransition:function(){var t=Bf(!1),e=t[0];return t=Q_.bind(null,t[1]),Nt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,i=Nt();if(ae){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Re===null)throw Error(O(349));Zn&30||fm(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jf(pm.bind(null,r,o,t),[t]),r.flags|=2048,to(9,dm.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Nt(),e=Re.identifierPrefix;if(ae){var n=qt,r=Gt;n=(r&~(1<<32-Rt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=b_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q_={readContext:vt,useCallback:Tm,useContext:vt,useEffect:wc,useImperativeHandle:wm,useInsertionEffect:vm,useLayoutEffect:_m,useMemo:Im,useReducer:wa,useRef:ym,useState:function(){return wa(eo)},useDebugValue:Tc,useDeferredValue:function(t){var e=_t();return Sm(e,Ie.memoizedState,t)},useTransition:function(){var t=wa(eo)[0],e=_t().memoizedState;return[t,e]},useMutableSource:cm,useSyncExternalStore:hm,useId:Am,unstable_isNewReconciler:!1},X_={readContext:vt,useCallback:Tm,useContext:vt,useEffect:wc,useImperativeHandle:wm,useInsertionEffect:vm,useLayoutEffect:_m,useMemo:Im,useReducer:Ta,useRef:ym,useState:function(){return Ta(eo)},useDebugValue:Tc,useDeferredValue:function(t){var e=_t();return Ie===null?e.memoizedState=t:Sm(e,Ie.memoizedState,t)},useTransition:function(){var t=Ta(eo)[0],e=_t().memoizedState;return[t,e]},useMutableSource:cm,useSyncExternalStore:hm,useId:Am,unstable_isNewReconciler:!1};function Tt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ml={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Tn(t),o=Xt(r,i);o.payload=e,n!=null&&(o.callback=n),e=En(t,o,i),e!==null&&(kt(e,t,i,r),ds(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ye(),i=Tn(t),o=Xt(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=En(t,o,i),e!==null&&(kt(e,t,i,r),ds(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ye(),r=Tn(t),i=Xt(n,r);i.tag=2,e!=null&&(i.callback=e),e=En(t,i,r),e!==null&&(kt(e,t,r,n),ds(e,t,r))}};function zf(t,e,n,r,i,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,l):e.prototype&&e.prototype.isPureReactComponent?!Wi(n,r)||!Wi(i,o):!0}function km(t,e,n){var r=!1,i=Rn,o=e.contextType;return typeof o=="object"&&o!==null?o=vt(o):(i=rt(e)?Yn:We.current,r=e.contextTypes,o=(r=r!=null)?Lr(t,i):Rn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ml,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $f(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ml.enqueueReplaceState(e,e.state,null)}function hu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pc(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=vt(o):(o=rt(e)?Yn:We.current,i.context=Lr(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(cu(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ml.enqueueReplaceState(i,i.state,null),Us(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Br(t,e){try{var n="",r=e;do n+=Sv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ia(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y_=typeof WeakMap=="function"?WeakMap:Map;function Dm(t,e,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hs||(Hs=!0,Tu=r),fu(t,e)},n}function Vm(t,e,n){n=Xt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fu(t,e),typeof r!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Hf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y_;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=h0.bind(null,t,e,n),e.then(t,t))}function bf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Qf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xt(-1,1),e.tag=2,En(n,e,1))),n.lanes|=1),t)}var J_=on.ReactCurrentOwner,tt=!1;function Xe(t,e,n,r){e.child=t===null?sm(e,null,n,r):Fr(e,t.child,n,r)}function Kf(t,e,n,r,i){n=n.render;var o=e.ref;return Dr(e,i),r=_c(t,e,n,r,o,i),n=Ec(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(ae&&n&&lc(e),e.flags|=1,Xe(t,e,r,i),e.child)}function Wf(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Dc(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Nm(t,e,o,r,i)):(t=_s(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(l,r)&&t.ref===e.ref)return nn(t,e,i)}return e.flags|=1,t=In(o,r),t.ref=e.ref,t.return=e,e.child=t}function Nm(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wi(o,r)&&t.ref===e.ref)if(tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,nn(t,e,i)}return du(t,e,n,r,i)}function xm(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Ar,lt),lt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(Ar,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,re(Ar,lt),lt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,re(Ar,lt),lt|=r;return Xe(t,e,i,n),e.child}function Om(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function du(t,e,n,r,i){var o=rt(n)?Yn:We.current;return o=Lr(e,o),Dr(e,i),n=_c(t,e,n,r,o,i),r=Ec(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nn(t,e,i)):(ae&&r&&lc(e),e.flags|=1,Xe(t,e,n,i),e.child)}function Gf(t,e,n,r,i){if(rt(n)){var o=!0;xs(e)}else o=!1;if(Dr(e,i),e.stateNode===null)gs(t,e),km(e,n,r),hu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=vt(f):(f=rt(n)?Yn:We.current,f=Lr(e,f));var m=n.getDerivedStateFromProps,E=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";E||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||c!==f)&&$f(e,l,r,f),hn=!1;var T=e.memoizedState;l.state=T,Us(e,r,l,i),c=e.memoizedState,u!==r||T!==c||nt.current||hn?(typeof m=="function"&&(cu(e,n,m,r),c=e.memoizedState),(u=hn||zf(e,n,u,r,T,c,f))?(E||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,am(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:Tt(e.type,u),l.props=f,E=e.pendingProps,T=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=vt(c):(c=rt(n)?Yn:We.current,c=Lr(e,c));var R=n.getDerivedStateFromProps;(m=typeof R=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==E||T!==c)&&$f(e,l,r,c),hn=!1,T=e.memoizedState,l.state=T,Us(e,r,l,i);var D=e.memoizedState;u!==E||T!==D||nt.current||hn?(typeof R=="function"&&(cu(e,n,R,r),D=e.memoizedState),(f=hn||zf(e,n,f,r,T,D,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,D,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,D,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=D),l.props=r,l.state=D,l.context=c,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return pu(t,e,n,r,o,i)}function pu(t,e,n,r,i,o){Om(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&xf(e,n,!1),nn(t,e,o);r=e.stateNode,J_.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Fr(e,t.child,null,o),e.child=Fr(e,null,u,o)):Xe(t,e,u,o),e.memoizedState=r.state,i&&xf(e,n,!0),e.child}function Lm(t){var e=t.stateNode;e.pendingContext?Nf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nf(t,e.context,!1),mc(t,e.containerInfo)}function qf(t,e,n,r,i){return Mr(),uc(i),e.flags|=256,Xe(t,e,n,r),e.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Mm(t,e,n){var r=e.pendingProps,i=he.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(i&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),re(he,i&1),t===null)return au(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,o?(r=e.mode,o=e.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=vl(l,r,0,null),t=Gn(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=gu(n),e.memoizedState=mu,t):Ic(e,l));if(i=t.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Z_(t,e,l,r,u,i,n);if(o){o=r.fallback,l=e.mode,i=t.child,u=i.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=In(i,c),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?o=In(u,o):(o=Gn(o,l,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,l=t.child.memoizedState,l=l===null?gu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=mu,r}return o=t.child,t=o.sibling,r=In(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ic(t,e){return e=vl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zo(t,e,n,r){return r!==null&&uc(r),Fr(e,t.child,null,n),t=Ic(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Z_(t,e,n,r,i,o,l){if(n)return e.flags&256?(e.flags&=-257,r=Ia(Error(O(422))),Zo(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=vl({mode:"visible",children:r.children},i,0,null),o=Gn(o,i,l,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fr(e,t.child,null,l),e.child.memoizedState=gu(l),e.memoizedState=mu,o);if(!(e.mode&1))return Zo(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(O(419)),r=Ia(o,r,void 0),Zo(t,e,l,r)}if(u=(l&t.childLanes)!==0,tt||u){if(r=Re,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tn(t,i),kt(r,t,i,-1))}return kc(),r=Ia(Error(O(421))),Zo(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f0.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,at=_n(i.nextSibling),ut=e,ae=!0,St=null,t!==null&&(pt[mt++]=Gt,pt[mt++]=qt,pt[mt++]=Jn,Gt=t.id,qt=t.overflow,Jn=e),e=Ic(e,r.children),e.flags|=4096,e)}function Xf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uu(t.return,e,n)}function Sa(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Fm(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Xe(t,e,r.children,n),r=he.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xf(t,n,e);else if(t.tag===19)Xf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(re(he,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Bs(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sa(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Bs(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sa(e,!0,n,null,o);break;case"together":Sa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),er|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=In(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=In(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function e0(t,e,n){switch(e.tag){case 3:Lm(e),Mr();break;case 5:um(e);break;case 1:rt(e.type)&&xs(e);break;case 4:mc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;re(Ms,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(re(he,he.current&1),e.flags|=128,null):n&e.child.childLanes?Mm(t,e,n):(re(he,he.current&1),t=nn(t,e,n),t!==null?t.sibling:null);re(he,he.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Fm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),re(he,he.current),r)break;return null;case 22:case 23:return e.lanes=0,xm(t,e,n)}return nn(t,e,n)}var Um,yu,Bm,jm;Um=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yu=function(){};Bm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Qn(Mt.current);var o=null;switch(n){case"input":i=Ba(t,i),r=Ba(t,r),o=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":i=$a(t,i),r=$a(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}ba(n,r);var l;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ji.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var c=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(o||(o=[]),o.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ji.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&se("scroll",t),o||u===c||(o=[])):(o=o||[]).push(f,c))}n&&(o=o||[]).push("style",n);var f=o;(e.updateQueue=f)&&(e.flags|=4)}};jm=function(t,e,n,r){n!==r&&(e.flags|=4)};function vi(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function t0(t,e,n){var r=e.pendingProps;switch(ac(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return rt(e.type)&&Ns(),ze(e),null;case 3:return r=e.stateNode,Ur(),le(nt),le(We),yc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(Au(St),St=null))),yu(t,e),ze(e),null;case 5:gc(e);var i=Qn(Ji.current);if(n=e.type,t!==null&&e.stateNode!=null)Bm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return ze(e),null}if(t=Qn(Mt.current),Yo(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xt]=e,r[Xi]=o,t=(e.mode&1)!==0,n){case"dialog":se("cancel",r),se("close",r);break;case"iframe":case"object":case"embed":se("load",r);break;case"video":case"audio":for(i=0;i<Ai.length;i++)se(Ai[i],r);break;case"source":se("error",r);break;case"img":case"image":case"link":se("error",r),se("load",r);break;case"details":se("toggle",r);break;case"input":of(r,o),se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},se("invalid",r);break;case"textarea":lf(r,o),se("invalid",r)}ba(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&Xo(r.textContent,u,t),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&Xo(r.textContent,u,t),i=["children",""+u]):ji.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&se("scroll",r)}switch(n){case"input":$o(r),sf(r,o,!0);break;case"textarea":$o(r),af(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vs)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[xt]=e,t[Xi]=r,Um(t,e,!1,!1),e.stateNode=t;e:{switch(l=Qa(n,r),n){case"dialog":se("cancel",t),se("close",t),i=r;break;case"iframe":case"object":case"embed":se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ai.length;i++)se(Ai[i],t);i=r;break;case"source":se("error",t),i=r;break;case"img":case"image":case"link":se("error",t),se("load",t),i=r;break;case"details":se("toggle",t),i=r;break;case"input":of(t,r),i=Ba(t,r),se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),se("invalid",t);break;case"textarea":lf(t,r),i=$a(t,r),se("invalid",t);break;default:i=r}ba(n,i),u=i;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?yp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mp(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&zi(t,c):typeof c=="number"&&zi(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ji.hasOwnProperty(o)?c!=null&&o==="onScroll"&&se("scroll",t):c!=null&&Wu(t,o,c,l))}switch(n){case"input":$o(t),sf(t,r,!1);break;case"textarea":$o(t),af(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Cn(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pr(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)jm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Qn(Ji.current),Qn(Mt.current),Yo(e)){if(r=e.stateNode,n=e.memoizedProps,r[xt]=e,(o=r.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:Xo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xo(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=e,e.stateNode=r}return ze(e),null;case 13:if(le(he),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&at!==null&&e.mode&1&&!(e.flags&128))im(),Mr(),e.flags|=98560,o=!1;else if(o=Yo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[xt]=e}else Mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),o=!1}else St!==null&&(Au(St),St=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||he.current&1?Se===0&&(Se=3):kc())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Ur(),yu(t,e),t===null&&Gi(e.stateNode.containerInfo),ze(e),null;case 10:return fc(e.type._context),ze(e),null;case 17:return rt(e.type)&&Ns(),ze(e),null;case 19:if(le(he),o=e.memoizedState,o===null)return ze(e),null;if(r=(e.flags&128)!==0,l=o.rendering,l===null)if(r)vi(o,!1);else{if(Se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Bs(t),l!==null){for(e.flags|=128,vi(o,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(he,he.current&1|2),e.child}t=t.sibling}o.tail!==null&&ve()>jr&&(e.flags|=128,r=!0,vi(o,!1),e.lanes=4194304)}else{if(!r)if(t=Bs(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!ae)return ze(e),null}else 2*ve()-o.renderingStartTime>jr&&n!==1073741824&&(e.flags|=128,r=!0,vi(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ve(),e.sibling=null,n=he.current,re(he,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return Rc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function n0(t,e){switch(ac(e),e.tag){case 1:return rt(e.type)&&Ns(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ur(),le(nt),le(We),yc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gc(e),null;case 13:if(le(he),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(he),null;case 4:return Ur(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var es=!1,be=!1,r0=typeof WeakSet=="function"?WeakSet:Set,z=null;function Sr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function vu(t,e,n){try{n()}catch(r){me(t,e,r)}}var Yf=!1;function i0(t,e){if(tu=Rs,t=Qp(),sc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,u=-1,c=-1,f=0,m=0,E=t,T=null;t:for(;;){for(var R;E!==n||i!==0&&E.nodeType!==3||(u=l+i),E!==o||r!==0&&E.nodeType!==3||(c=l+r),E.nodeType===3&&(l+=E.nodeValue.length),(R=E.firstChild)!==null;)T=E,E=R;for(;;){if(E===t)break t;if(T===n&&++f===i&&(u=l),T===o&&++m===r&&(c=l),(R=E.nextSibling)!==null)break;E=T,T=E.parentNode}E=R}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:t,selectionRange:n},Rs=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var D=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var N=D.memoizedProps,F=D.memoizedState,I=e.stateNode,v=I.getSnapshotBeforeUpdate(e.elementType===e.type?N:Tt(e.type,N),F);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(V){me(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return D=Yf,Yf=!1,D}function xi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&vu(e,n,o)}i=i.next}while(i!==r)}}function gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _u(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zm(t){var e=t.alternate;e!==null&&(t.alternate=null,zm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[Xi],delete e[ou],delete e[j_],delete e[z_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $m(t){return t.tag===5||t.tag===3||t.tag===4}function Jf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Eu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(Eu(t,e,n),t=t.sibling;t!==null;)Eu(t,e,n),t=t.sibling}function wu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wu(t,e,n),t=t.sibling;t!==null;)wu(t,e,n),t=t.sibling}var Ve=null,It=!1;function un(t,e,n){for(n=n.child;n!==null;)Hm(t,e,n),n=n.sibling}function Hm(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(al,n)}catch{}switch(n.tag){case 5:be||Sr(n,e);case 6:var r=Ve,i=It;Ve=null,un(t,e,n),Ve=r,It=i,Ve!==null&&(It?(t=Ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(It?(t=Ve,n=n.stateNode,t.nodeType===8?ya(t.parentNode,n):t.nodeType===1&&ya(t,n),Qi(t)):ya(Ve,n.stateNode));break;case 4:r=Ve,i=It,Ve=n.stateNode.containerInfo,It=!0,un(t,e,n),Ve=r,It=i;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&vu(n,e,l),i=i.next}while(i!==r)}un(t,e,n);break;case 1:if(!be&&(Sr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){me(n,e,u)}un(t,e,n);break;case 21:un(t,e,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,un(t,e,n),be=r):un(t,e,n);break;default:un(t,e,n)}}function Zf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new r0),e.forEach(function(r){var i=d0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Ve=u.stateNode,It=!1;break e;case 3:Ve=u.stateNode.containerInfo,It=!0;break e;case 4:Ve=u.stateNode.containerInfo,It=!0;break e}u=u.return}if(Ve===null)throw Error(O(160));Hm(o,l,i),Ve=null,It=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){me(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bm(e,t),e=e.sibling}function bm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wt(e,t),Vt(t),r&4){try{xi(3,t,t.return),gl(3,t)}catch(N){me(t,t.return,N)}try{xi(5,t,t.return)}catch(N){me(t,t.return,N)}}break;case 1:wt(e,t),Vt(t),r&512&&n!==null&&Sr(n,n.return);break;case 5:if(wt(e,t),Vt(t),r&512&&n!==null&&Sr(n,n.return),t.flags&32){var i=t.stateNode;try{zi(i,"")}catch(N){me(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&fp(i,o),Qa(u,l);var f=Qa(u,o);for(l=0;l<c.length;l+=2){var m=c[l],E=c[l+1];m==="style"?yp(i,E):m==="dangerouslySetInnerHTML"?mp(i,E):m==="children"?zi(i,E):Wu(i,m,E,f)}switch(u){case"input":ja(i,o);break;case"textarea":dp(i,o);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?Pr(i,!!o.multiple,R,!1):T!==!!o.multiple&&(o.defaultValue!=null?Pr(i,!!o.multiple,o.defaultValue,!0):Pr(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xi]=o}catch(N){me(t,t.return,N)}}break;case 6:if(wt(e,t),Vt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(N){me(t,t.return,N)}}break;case 3:if(wt(e,t),Vt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(e.containerInfo)}catch(N){me(t,t.return,N)}break;case 4:wt(e,t),Vt(t);break;case 13:wt(e,t),Vt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Pc=ve())),r&4&&Zf(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(be=(f=be)||m,wt(e,t),be=f):wt(e,t),Vt(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!m&&t.mode&1)for(z=t,m=t.child;m!==null;){for(E=z=m;z!==null;){switch(T=z,R=T.child,T.tag){case 0:case 11:case 14:case 15:xi(4,T,T.return);break;case 1:Sr(T,T.return);var D=T.stateNode;if(typeof D.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,D.props=e.memoizedProps,D.state=e.memoizedState,D.componentWillUnmount()}catch(N){me(r,n,N)}}break;case 5:Sr(T,T.return);break;case 22:if(T.memoizedState!==null){td(E);continue}}R!==null?(R.return=T,z=R):td(E)}m=m.sibling}e:for(m=null,E=t;;){if(E.tag===5){if(m===null){m=E;try{i=E.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=E.stateNode,c=E.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=gp("display",l))}catch(N){me(t,t.return,N)}}}else if(E.tag===6){if(m===null)try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(N){me(t,t.return,N)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===t)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;m===E&&(m=null),E=E.return}m===E&&(m=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:wt(e,t),Vt(t),r&4&&Zf(t);break;case 21:break;default:wt(e,t),Vt(t)}}function Vt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($m(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zi(i,""),r.flags&=-33);var o=Jf(t);wu(t,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Jf(t);Eu(t,u,l);break;default:throw Error(O(161))}}catch(c){me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function o0(t,e,n){z=t,Qm(t)}function Qm(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||es;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||be;u=es;var f=be;if(es=l,(be=c)&&!f)for(z=i;z!==null;)l=z,c=l.child,l.tag===22&&l.memoizedState!==null?nd(i):c!==null?(c.return=l,z=c):nd(i);for(;o!==null;)z=o,Qm(o),o=o.sibling;z=i,es=u,be=f}ed(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,z=o):ed(t)}}function ed(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||gl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Uf(e,o,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uf(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var E=m.dehydrated;E!==null&&Qi(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}be||e.flags&512&&_u(e)}catch(T){me(e,e.return,T)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function td(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function nd(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gl(4,e)}catch(c){me(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){me(e,i,c)}}var o=e.return;try{_u(e)}catch(c){me(e,o,c)}break;case 5:var l=e.return;try{_u(e)}catch(c){me(e,l,c)}}}catch(c){me(e,e.return,c)}if(e===t){z=null;break}var u=e.sibling;if(u!==null){u.return=e.return,z=u;break}z=e.return}}var s0=Math.ceil,$s=on.ReactCurrentDispatcher,Sc=on.ReactCurrentOwner,yt=on.ReactCurrentBatchConfig,Y=0,Re=null,Te=null,Le=0,lt=0,Ar=xn(0),Se=0,no=null,er=0,yl=0,Ac=0,Oi=null,et=null,Pc=0,jr=1/0,Kt=null,Hs=!1,Tu=null,wn=null,ts=!1,mn=null,bs=0,Li=0,Iu=null,ys=-1,vs=0;function Ye(){return Y&6?ve():ys!==-1?ys:ys=ve()}function Tn(t){return t.mode&1?Y&2&&Le!==0?Le&-Le:H_.transition!==null?(vs===0&&(vs=kp()),vs):(t=Z,t!==0||(t=window.event,t=t===void 0?16:Mp(t.type)),t):1}function kt(t,e,n,r){if(50<Li)throw Li=0,Iu=null,Error(O(185));po(t,n,r),(!(Y&2)||t!==Re)&&(t===Re&&(!(Y&2)&&(yl|=n),Se===4&&dn(t,Le)),it(t,r),n===1&&Y===0&&!(e.mode&1)&&(jr=ve()+500,dl&&On()))}function it(t,e){var n=t.callbackNode;Hv(t,e);var r=Cs(t,t===Re?Le:0);if(r===0)n!==null&&hf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hf(n),e===1)t.tag===0?$_(rd.bind(null,t)):tm(rd.bind(null,t)),U_(function(){!(Y&6)&&On()}),n=null;else{switch(Dp(r)){case 1:n=Ju;break;case 4:n=Cp;break;case 16:n=Ps;break;case 536870912:n=Rp;break;default:n=Ps}n=Zm(n,Km.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Km(t,e){if(ys=-1,vs=0,Y&6)throw Error(O(327));var n=t.callbackNode;if(Vr()&&t.callbackNode!==n)return null;var r=Cs(t,t===Re?Le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qs(t,r);else{e=r;var i=Y;Y|=2;var o=Gm();(Re!==t||Le!==e)&&(Kt=null,jr=ve()+500,Wn(t,e));do try{u0();break}catch(u){Wm(t,u)}while(!0);hc(),$s.current=o,Y=i,Te!==null?e=0:(Re=null,Le=0,e=Se)}if(e!==0){if(e===2&&(i=Xa(t),i!==0&&(r=i,e=Su(t,i))),e===1)throw n=no,Wn(t,0),dn(t,r),it(t,ve()),n;if(e===6)dn(t,r);else{if(i=t.current.alternate,!(r&30)&&!l0(i)&&(e=Qs(t,r),e===2&&(o=Xa(t),o!==0&&(r=o,e=Su(t,o))),e===1))throw n=no,Wn(t,0),dn(t,r),it(t,ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:zn(t,et,Kt);break;case 3:if(dn(t,r),(r&130023424)===r&&(e=Pc+500-ve(),10<e)){if(Cs(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ye(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iu(zn.bind(null,t,et,Kt),e);break}zn(t,et,Kt);break;case 4:if(dn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Rt(r);o=1<<l,l=e[l],l>i&&(i=l),r&=~o}if(r=i,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s0(r/1960))-r,10<r){t.timeoutHandle=iu(zn.bind(null,t,et,Kt),r);break}zn(t,et,Kt);break;case 5:zn(t,et,Kt);break;default:throw Error(O(329))}}}return it(t,ve()),t.callbackNode===n?Km.bind(null,t):null}function Su(t,e){var n=Oi;return t.current.memoizedState.isDehydrated&&(Wn(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=et,et=n,e!==null&&Au(e)),t}function Au(t){et===null?et=t:et.push.apply(et,t)}function l0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Dt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dn(t,e){for(e&=~Ac,e&=~yl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rt(e),r=1<<n;t[n]=-1,e&=~r}}function rd(t){if(Y&6)throw Error(O(327));Vr();var e=Cs(t,0);if(!(e&1))return it(t,ve()),null;var n=Qs(t,e);if(t.tag!==0&&n===2){var r=Xa(t);r!==0&&(e=r,n=Su(t,r))}if(n===1)throw n=no,Wn(t,0),dn(t,e),it(t,ve()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zn(t,et,Kt),it(t,ve()),null}function Cc(t,e){var n=Y;Y|=1;try{return t(e)}finally{Y=n,Y===0&&(jr=ve()+500,dl&&On())}}function tr(t){mn!==null&&mn.tag===0&&!(Y&6)&&Vr();var e=Y;Y|=1;var n=yt.transition,r=Z;try{if(yt.transition=null,Z=1,t)return t()}finally{Z=r,yt.transition=n,Y=e,!(Y&6)&&On()}}function Rc(){lt=Ar.current,le(Ar)}function Wn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F_(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(ac(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ns();break;case 3:Ur(),le(nt),le(We),yc();break;case 5:gc(r);break;case 4:Ur();break;case 13:le(he);break;case 19:le(he);break;case 10:fc(r.type._context);break;case 22:case 23:Rc()}n=n.return}if(Re=t,Te=t=In(t.current,null),Le=lt=e,Se=0,no=null,Ac=yl=er=0,et=Oi=null,bn!==null){for(e=0;e<bn.length;e++)if(n=bn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}bn=null}return t}function Wm(t,e){do{var n=Te;try{if(hc(),ps.current=zs,js){for(var r=fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}js=!1}if(Zn=0,Pe=Ie=fe=null,Ni=!1,Zi=0,Sc.current=null,n===null||n.return===null){Se=1,no=e,Te=null;break}e:{var o=t,l=n.return,u=n,c=e;if(e=Le,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,m=u,E=m.tag;if(!(m.mode&1)&&(E===0||E===11||E===15)){var T=m.alternate;T?(m.updateQueue=T.updateQueue,m.memoizedState=T.memoizedState,m.lanes=T.lanes):(m.updateQueue=null,m.memoizedState=null)}var R=bf(l);if(R!==null){R.flags&=-257,Qf(R,l,u,o,e),R.mode&1&&Hf(o,f,e),e=R,c=f;var D=e.updateQueue;if(D===null){var N=new Set;N.add(c),e.updateQueue=N}else D.add(c);break e}else{if(!(e&1)){Hf(o,f,e),kc();break e}c=Error(O(426))}}else if(ae&&u.mode&1){var F=bf(l);if(F!==null){!(F.flags&65536)&&(F.flags|=256),Qf(F,l,u,o,e),uc(Br(c,u));break e}}o=c=Br(c,u),Se!==4&&(Se=2),Oi===null?Oi=[o]:Oi.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=Dm(o,c,e);Ff(o,I);break e;case 1:u=c;var v=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wn===null||!wn.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var V=Vm(o,u,e);Ff(o,V);break e}}o=o.return}while(o!==null)}Xm(n)}catch(U){e=U,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function Gm(){var t=$s.current;return $s.current=zs,t===null?zs:t}function kc(){(Se===0||Se===3||Se===2)&&(Se=4),Re===null||!(er&268435455)&&!(yl&268435455)||dn(Re,Le)}function Qs(t,e){var n=Y;Y|=2;var r=Gm();(Re!==t||Le!==e)&&(Kt=null,Wn(t,e));do try{a0();break}catch(i){Wm(t,i)}while(!0);if(hc(),Y=n,$s.current=r,Te!==null)throw Error(O(261));return Re=null,Le=0,Se}function a0(){for(;Te!==null;)qm(Te)}function u0(){for(;Te!==null&&!Ov();)qm(Te)}function qm(t){var e=Jm(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?Xm(t):Te=e,Sc.current=null}function Xm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=n0(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Se=6,Te=null;return}}else if(n=t0(n,e,lt),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Se===0&&(Se=5)}function zn(t,e,n){var r=Z,i=yt.transition;try{yt.transition=null,Z=1,c0(t,e,n,r)}finally{yt.transition=i,Z=r}return null}function c0(t,e,n,r){do Vr();while(mn!==null);if(Y&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(bv(t,o),t===Re&&(Te=Re=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ts||(ts=!0,Zm(Ps,function(){return Vr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yt.transition,yt.transition=null;var l=Z;Z=1;var u=Y;Y|=4,Sc.current=null,i0(t,n),bm(n,t),D_(nu),Rs=!!tu,nu=tu=null,t.current=n,o0(n),Lv(),Y=u,Z=l,yt.transition=o}else t.current=n;if(ts&&(ts=!1,mn=t,bs=i),o=t.pendingLanes,o===0&&(wn=null),Uv(n.stateNode),it(t,ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,t=Tu,Tu=null,t;return bs&1&&t.tag!==0&&Vr(),o=t.pendingLanes,o&1?t===Iu?Li++:(Li=0,Iu=t):Li=0,On(),null}function Vr(){if(mn!==null){var t=Dp(bs),e=yt.transition,n=Z;try{if(yt.transition=null,Z=16>t?16:t,mn===null)var r=!1;else{if(t=mn,mn=null,bs=0,Y&6)throw Error(O(331));var i=Y;for(Y|=4,z=t.current;z!==null;){var o=z,l=o.child;if(z.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(z=f;z!==null;){var m=z;switch(m.tag){case 0:case 11:case 15:xi(8,m,o)}var E=m.child;if(E!==null)E.return=m,z=E;else for(;z!==null;){m=z;var T=m.sibling,R=m.return;if(zm(m),m===f){z=null;break}if(T!==null){T.return=R,z=T;break}z=R}}}var D=o.alternate;if(D!==null){var N=D.child;if(N!==null){D.child=null;do{var F=N.sibling;N.sibling=null,N=F}while(N!==null)}}z=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,z=l;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xi(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,z=I;break e}z=o.return}}var v=t.current;for(z=v;z!==null;){l=z;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,z=A;else e:for(l=v;z!==null;){if(u=z,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:gl(9,u)}}catch(U){me(u,u.return,U)}if(u===l){z=null;break e}var V=u.sibling;if(V!==null){V.return=u.return,z=V;break e}z=u.return}}if(Y=i,On(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(al,t)}catch{}r=!0}return r}finally{Z=n,yt.transition=e}}return!1}function id(t,e,n){e=Br(n,e),e=Dm(t,e,1),t=En(t,e,1),e=Ye(),t!==null&&(po(t,1,e),it(t,e))}function me(t,e,n){if(t.tag===3)id(t,t,n);else for(;e!==null;){if(e.tag===3){id(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wn===null||!wn.has(r))){t=Br(n,t),t=Vm(e,t,1),e=En(e,t,1),t=Ye(),e!==null&&(po(e,1,t),it(e,t));break}}e=e.return}}function h0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ye(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Le&n)===n&&(Se===4||Se===3&&(Le&130023424)===Le&&500>ve()-Pc?Wn(t,0):Ac|=n),it(t,e)}function Ym(t,e){e===0&&(t.mode&1?(e=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):e=1);var n=Ye();t=tn(t,e),t!==null&&(po(t,e,n),it(t,n))}function f0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ym(t,n)}function d0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),Ym(t,n)}var Jm;Jm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,e0(t,e,n);tt=!!(t.flags&131072)}else tt=!1,ae&&e.flags&1048576&&nm(e,Ls,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gs(t,e),t=e.pendingProps;var i=Lr(e,We.current);Dr(e,n),i=_c(null,e,r,t,i,n);var o=Ec();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rt(r)?(o=!0,xs(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pc(e),i.updater=ml,e.stateNode=i,i._reactInternals=e,hu(e,r,t,n),e=pu(null,e,r,!0,o,n)):(e.tag=0,ae&&o&&lc(e),Xe(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=m0(r),t=Tt(r,t),i){case 0:e=du(null,e,r,t,n);break e;case 1:e=Gf(null,e,r,t,n);break e;case 11:e=Kf(null,e,r,t,n);break e;case 14:e=Wf(null,e,r,Tt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),du(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),Gf(t,e,r,i,n);case 3:e:{if(Lm(e),t===null)throw Error(O(387));r=e.pendingProps,o=e.memoizedState,i=o.element,am(t,e),Us(e,r,null,n);var l=e.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Br(Error(O(423)),e),e=qf(t,e,r,n,i);break e}else if(r!==i){i=Br(Error(O(424)),e),e=qf(t,e,r,n,i);break e}else for(at=_n(e.stateNode.containerInfo.firstChild),ut=e,ae=!0,St=null,n=sm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),r===i){e=nn(t,e,n);break e}Xe(t,e,r,n)}e=e.child}return e;case 5:return um(e),t===null&&au(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,l=i.children,ru(r,i)?l=null:o!==null&&ru(r,o)&&(e.flags|=32),Om(t,e),Xe(t,e,l,n),e.child;case 6:return t===null&&au(e),null;case 13:return Mm(t,e,n);case 4:return mc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fr(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),Kf(t,e,r,i,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,l=i.value,re(Ms,r._currentValue),r._currentValue=l,o!==null)if(Dt(o.value,l)){if(o.children===i.children&&!nt.current){e=nn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Xt(-1,n&-n),c.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?c.next=c:(c.next=m.next,m.next=c),f.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),uu(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(O(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),uu(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Xe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Dr(e,n),i=vt(i),r=r(i),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return r=e.type,i=Tt(r,e.pendingProps),i=Tt(r.type,i),Wf(t,e,r,i,n);case 15:return Nm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tt(r,i),gs(t,e),e.tag=1,rt(r)?(t=!0,xs(e)):t=!1,Dr(e,n),km(e,r,i),hu(e,r,i,n),pu(null,e,r,!0,t,n);case 19:return Fm(t,e,n);case 22:return xm(t,e,n)}throw Error(O(156,e.tag))};function Zm(t,e){return Pp(t,e)}function p0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new p0(t,e,n,r)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function m0(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qu)return 11;if(t===Xu)return 14}return 2}function In(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _s(t,e,n,r,i,o){var l=2;if(r=t,typeof t=="function")Dc(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case mr:return Gn(n.children,i,o,e);case Gu:l=8,i|=8;break;case La:return t=gt(12,n,e,i|2),t.elementType=La,t.lanes=o,t;case Ma:return t=gt(13,n,e,i),t.elementType=Ma,t.lanes=o,t;case Fa:return t=gt(19,n,e,i),t.elementType=Fa,t.lanes=o,t;case up:return vl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lp:l=10;break e;case ap:l=9;break e;case qu:l=11;break e;case Xu:l=14;break e;case cn:l=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=gt(l,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Gn(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function vl(t,e,n,r){return t=gt(22,t,r,e),t.elementType=up,t.lanes=n,t.stateNode={isHidden:!1},t}function Aa(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function Pa(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sa(0),this.expirationTimes=sa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(t,e,n,r,i,o,l,u,c){return t=new g0(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(o),t}function y0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eg(t){if(!t)return Rn;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(rt(n))return em(t,n,e)}return e}function tg(t,e,n,r,i,o,l,u,c){return t=Vc(n,r,!0,t,i,o,l,u,c),t.context=eg(null),n=t.current,r=Ye(),i=Tn(n),o=Xt(r,i),o.callback=e??null,En(n,o,i),t.current.lanes=i,po(t,i,r),it(t,r),t}function _l(t,e,n,r){var i=e.current,o=Ye(),l=Tn(i);return n=eg(n),e.context===null?e.context=n:e.pendingContext=n,e=Xt(o,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=En(i,e,l),t!==null&&(kt(t,i,l,o),ds(t,i,l)),l}function Ks(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function od(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nc(t,e){od(t,e),(t=t.alternate)&&od(t,e)}function v0(){return null}var ng=typeof reportError=="function"?reportError:function(t){console.error(t)};function xc(t){this._internalRoot=t}El.prototype.render=xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));_l(t,e,null,null)};El.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;tr(function(){_l(null,t,null,null)}),e[en]=null}};function El(t){this._internalRoot=t}El.prototype.unstable_scheduleHydration=function(t){if(t){var e=xp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Lp(t)}};function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sd(){}function _0(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Ks(l);o.call(f)}}var l=tg(e,r,t,0,null,!1,!1,"",sd);return t._reactRootContainer=l,t[en]=l.current,Gi(t.nodeType===8?t.parentNode:t),tr(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=Ks(c);u.call(f)}}var c=Vc(t,0,!1,null,null,!1,!1,"",sd);return t._reactRootContainer=c,t[en]=c.current,Gi(t.nodeType===8?t.parentNode:t),tr(function(){_l(e,c,n,r)}),c}function Tl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var u=i;i=function(){var c=Ks(l);u.call(c)}}_l(e,l,t,i)}else l=_0(n,e,t,i,r);return Ks(l)}Vp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Si(e.pendingLanes);n!==0&&(Zu(e,n|1),it(e,ve()),!(Y&6)&&(jr=ve()+500,On()))}break;case 13:tr(function(){var r=tn(t,1);if(r!==null){var i=Ye();kt(r,t,1,i)}}),Nc(t,1)}};ec=function(t){if(t.tag===13){var e=tn(t,134217728);if(e!==null){var n=Ye();kt(e,t,134217728,n)}Nc(t,134217728)}};Np=function(t){if(t.tag===13){var e=Tn(t),n=tn(t,e);if(n!==null){var r=Ye();kt(n,t,e,r)}Nc(t,e)}};xp=function(){return Z};Op=function(t,e){var n=Z;try{return Z=t,e()}finally{Z=n}};Wa=function(t,e,n){switch(e){case"input":if(ja(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fl(r);if(!i)throw Error(O(90));hp(r),ja(r,i)}}}break;case"textarea":dp(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};Ep=Cc;wp=tr;var E0={usingClientEntryPoint:!1,Events:[go,_r,fl,vp,_p,Cc]},_i={findFiberByHostInstance:Hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w0={bundleType:_i.bundleType,version:_i.version,rendererPackageName:_i.rendererPackageName,rendererConfig:_i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sp(t),t===null?null:t.stateNode},findFiberByHostInstance:_i.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ns.isDisabled&&ns.supportsFiber)try{al=ns.inject(w0),Lt=ns}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E0;ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oc(e))throw Error(O(200));return y0(t,e,null,n)};ht.createRoot=function(t,e){if(!Oc(t))throw Error(O(299));var n=!1,r="",i=ng;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Vc(t,1,!1,null,null,n,!1,r,i),t[en]=e.current,Gi(t.nodeType===8?t.parentNode:t),new xc(e)};ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Sp(e),t=t===null?null:t.stateNode,t};ht.flushSync=function(t){return tr(t)};ht.hydrate=function(t,e,n){if(!wl(e))throw Error(O(200));return Tl(null,t,e,!0,n)};ht.hydrateRoot=function(t,e,n){if(!Oc(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=ng;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=tg(e,null,t,1,n??null,i,!1,o,l),t[en]=e.current,Gi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new El(e)};ht.render=function(t,e,n){if(!wl(e))throw Error(O(200));return Tl(null,t,e,!1,n)};ht.unmountComponentAtNode=function(t){if(!wl(t))throw Error(O(40));return t._reactRootContainer?(tr(function(){Tl(null,null,t,!1,function(){t._reactRootContainer=null,t[en]=null})}),!0):!1};ht.unstable_batchedUpdates=Cc;ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wl(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Tl(t,e,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function rg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rg)}catch(t){console.error(t)}}rg(),rp.exports=ht;var T0=rp.exports,ig,ld=T0;ig=ld.createRoot,ld.hydrateRoot;var ad={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},I0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},sg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,u=l?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,m=o>>2,E=(o&3)<<4|u>>4;let T=(u&15)<<2|f>>6,R=f&63;c||(R=64,l||(T=64)),r.push(n[m],n[E],n[T],n[R])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(og(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||f==null||E==null)throw new S0;const T=o<<2|u>>4;if(r.push(T),f!==64){const R=u<<4&240|f>>2;if(r.push(R),E!==64){const D=f<<6&192|E;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class S0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A0=function(t){const e=og(t);return sg.encodeByteArray(e,!0)},Ws=function(t){return A0(t).replace(/\./g,"")},P0=function(t){try{return sg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=()=>C0().__FIREBASE_DEFAULTS__,k0=()=>{if(typeof process>"u"||typeof ad>"u")return;const t=ad.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P0(t[1]);return e&&JSON.parse(e)},Lc=()=>{try{return R0()||k0()||D0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V0=t=>{var e,n;return(n=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N0=t=>{const e=V0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lg=()=>{var t;return(t=Lc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ws(JSON.stringify(n)),Ws(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M0(){var t;const e=(t=Lc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F0(){return!M0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U0(){try{return typeof indexedDB=="object"}catch{return!1}}function B0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="FirebaseError";class qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j0,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ag.prototype.create)}}class ag{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?z0(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new qr(i,u,r)}}function z0(t,e){return t.replace($0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $0=/\{\$([^}]+)}/g;function Pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(ud(o)&&ud(l)){if(!Pu(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ud(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q0(e))try{this.getOrInitializeService({instanceIdentifier:$n})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$n){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$n){return this.instances.has(e)}getOptions(e=$n){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$n){return this.component?this.component.multipleInstances?e:$n:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b0(t){return t===$n?void 0:t}function Q0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const W0={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},G0=X.INFO,q0={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},X0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ug{constructor(e){this.name=e,this._logLevel=G0,this._logHandler=X0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const Y0=(t,e)=>e.some(n=>t instanceof n);let cd,hd;function J0(){return cd||(cd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z0(){return hd||(hd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cg=new WeakMap,Cu=new WeakMap,hg=new WeakMap,Ca=new WeakMap,Mc=new WeakMap;function e1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Sn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&cg.set(n,t)}).catch(()=>{}),Mc.set(e,t),e}function t1(t){if(Cu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Cu.set(t,e)}let Ru={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function n1(t){Ru=t(Ru)}function r1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ra(this),e,...n);return hg.set(r,e.sort?e.sort():[e]),Sn(r)}:Z0().includes(t)?function(...e){return t.apply(Ra(this),e),Sn(cg.get(this))}:function(...e){return Sn(t.apply(Ra(this),e))}}function i1(t){return typeof t=="function"?r1(t):(t instanceof IDBTransaction&&t1(t),Y0(t,J0())?new Proxy(t,Ru):t)}function Sn(t){if(t instanceof IDBRequest)return e1(t);if(Ca.has(t))return Ca.get(t);const e=i1(t);return e!==t&&(Ca.set(t,e),Mc.set(e,t)),e}const Ra=t=>Mc.get(t);function o1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),u=Sn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Sn(l.result),c.oldVersion,c.newVersion,Sn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const s1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],ka=new Map;function fd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ka.get(e))return ka.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=l1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s1.includes(n)))return;const o=async function(l,...u){const c=this.transaction(l,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return ka.set(e,o),o}n1(t=>({...t,get:(e,n,r)=>fd(e,n)||t.get(e,n,r),has:(e,n)=>!!fd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function u1(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ku="@firebase/app",dd="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn=new ug("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",y1="@firebase/database",v1="@firebase/data-connect",_1="@firebase/database-compat",E1="@firebase/functions",w1="@firebase/functions-compat",T1="@firebase/installations",I1="@firebase/installations-compat",S1="@firebase/messaging",A1="@firebase/messaging-compat",P1="@firebase/performance",C1="@firebase/performance-compat",R1="@firebase/remote-config",k1="@firebase/remote-config-compat",D1="@firebase/storage",V1="@firebase/storage-compat",N1="@firebase/firestore",x1="@firebase/vertexai-preview",O1="@firebase/firestore-compat",L1="firebase",M1="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du="[DEFAULT]",F1={[ku]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[p1]:"fire-app-check",[d1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[y1]:"fire-rtdb",[v1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[E1]:"fire-fn",[w1]:"fire-fn-compat",[T1]:"fire-iid",[I1]:"fire-iid-compat",[S1]:"fire-fcm",[A1]:"fire-fcm-compat",[P1]:"fire-perf",[C1]:"fire-perf-compat",[R1]:"fire-rc",[k1]:"fire-rc-compat",[D1]:"fire-gcs",[V1]:"fire-gcs-compat",[N1]:"fire-fst",[O1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Map,U1=new Map,Vu=new Map;function pd(t,e){try{t.container.addComponent(e)}catch(n){rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Vu.has(e))return rn.debug(`There were multiple attempts to register component ${e}.`),!1;Vu.set(e,t);for(const n of Gs.values())pd(n,t);for(const n of U1.values())pd(n,t);return!0}function B1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new ag("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=M1;function fg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Du,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=lg()),!n)throw An.create("no-options");const o=Gs.get(i);if(o){if(Pu(n,o.options)&&Pu(r,o.config))return o;throw An.create("duplicate-app",{appName:i})}const l=new K0(i);for(const c of Vu.values())l.addComponent(c);const u=new z1(n,r,l);return Gs.set(i,u),u}function H1(t=Du){const e=Gs.get(t);if(!e&&t===Du&&lg())return fg();if(!e)throw An.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let i=(r=F1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rn.warn(u.join(" "));return}qs(new io(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="firebase-heartbeat-database",Q1=1,oo="firebase-heartbeat-store";let Da=null;function dg(){return Da||(Da=o1(b1,Q1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw An.create("idb-open",{originalErrorMessage:t.message})})),Da}async function K1(t){try{const n=(await dg()).transaction(oo),r=await n.objectStore(oo).get(pg(t));return await n.done,r}catch(e){if(e instanceof qr)rn.warn(e.message);else{const n=An.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rn.warn(n.message)}}}async function md(t,e){try{const r=(await dg()).transaction(oo,"readwrite");await r.objectStore(oo).put(e,pg(t)),await r.done}catch(n){if(n instanceof qr)rn.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rn.warn(r.message)}}}function pg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=1024,G1=30*24*60*60*1e3;class q1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=G1}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gd(),{heartbeatsToSend:r,unsentEntries:i}=X1(this._heartbeatsCache.heartbeats),o=Ws(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rn.warn(n),""}}}function gd(){return new Date().toISOString().substring(0,10)}function X1(t,e=W1){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),yd(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U0()?B0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return md(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return md(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yd(t){return Ws(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t){qs(new io("platform-logger",e=>new a1(e),"PRIVATE")),qs(new io("heartbeat",e=>new q1(e),"PRIVATE")),Nr(ku,dd,t),Nr(ku,dd,"esm2017"),Nr("fire-js","")}J1("");var Z1="firebase",eE="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(Z1,eE,"app");var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mg;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,p){function g(){}g.prototype=p.prototype,y.D=p.prototype,y.prototype=new g,y.prototype.constructor=y,y.C=function(w,S,C){for(var _=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)_[dt-2]=arguments[dt];return p.prototype[S].apply(w,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(y,p,g){g||(g=0);var w=Array(16);if(typeof p=="string")for(var S=0;16>S;++S)w[S]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(S=0;16>S;++S)w[S]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=y.g[0],g=y.g[1],S=y.g[2];var C=y.g[3],_=p+(C^g&(S^C))+w[0]+3614090360&4294967295;p=g+(_<<7&4294967295|_>>>25),_=C+(S^p&(g^S))+w[1]+3905402710&4294967295,C=p+(_<<12&4294967295|_>>>20),_=S+(g^C&(p^g))+w[2]+606105819&4294967295,S=C+(_<<17&4294967295|_>>>15),_=g+(p^S&(C^p))+w[3]+3250441966&4294967295,g=S+(_<<22&4294967295|_>>>10),_=p+(C^g&(S^C))+w[4]+4118548399&4294967295,p=g+(_<<7&4294967295|_>>>25),_=C+(S^p&(g^S))+w[5]+1200080426&4294967295,C=p+(_<<12&4294967295|_>>>20),_=S+(g^C&(p^g))+w[6]+2821735955&4294967295,S=C+(_<<17&4294967295|_>>>15),_=g+(p^S&(C^p))+w[7]+4249261313&4294967295,g=S+(_<<22&4294967295|_>>>10),_=p+(C^g&(S^C))+w[8]+1770035416&4294967295,p=g+(_<<7&4294967295|_>>>25),_=C+(S^p&(g^S))+w[9]+2336552879&4294967295,C=p+(_<<12&4294967295|_>>>20),_=S+(g^C&(p^g))+w[10]+4294925233&4294967295,S=C+(_<<17&4294967295|_>>>15),_=g+(p^S&(C^p))+w[11]+2304563134&4294967295,g=S+(_<<22&4294967295|_>>>10),_=p+(C^g&(S^C))+w[12]+1804603682&4294967295,p=g+(_<<7&4294967295|_>>>25),_=C+(S^p&(g^S))+w[13]+4254626195&4294967295,C=p+(_<<12&4294967295|_>>>20),_=S+(g^C&(p^g))+w[14]+2792965006&4294967295,S=C+(_<<17&4294967295|_>>>15),_=g+(p^S&(C^p))+w[15]+1236535329&4294967295,g=S+(_<<22&4294967295|_>>>10),_=p+(S^C&(g^S))+w[1]+4129170786&4294967295,p=g+(_<<5&4294967295|_>>>27),_=C+(g^S&(p^g))+w[6]+3225465664&4294967295,C=p+(_<<9&4294967295|_>>>23),_=S+(p^g&(C^p))+w[11]+643717713&4294967295,S=C+(_<<14&4294967295|_>>>18),_=g+(C^p&(S^C))+w[0]+3921069994&4294967295,g=S+(_<<20&4294967295|_>>>12),_=p+(S^C&(g^S))+w[5]+3593408605&4294967295,p=g+(_<<5&4294967295|_>>>27),_=C+(g^S&(p^g))+w[10]+38016083&4294967295,C=p+(_<<9&4294967295|_>>>23),_=S+(p^g&(C^p))+w[15]+3634488961&4294967295,S=C+(_<<14&4294967295|_>>>18),_=g+(C^p&(S^C))+w[4]+3889429448&4294967295,g=S+(_<<20&4294967295|_>>>12),_=p+(S^C&(g^S))+w[9]+568446438&4294967295,p=g+(_<<5&4294967295|_>>>27),_=C+(g^S&(p^g))+w[14]+3275163606&4294967295,C=p+(_<<9&4294967295|_>>>23),_=S+(p^g&(C^p))+w[3]+4107603335&4294967295,S=C+(_<<14&4294967295|_>>>18),_=g+(C^p&(S^C))+w[8]+1163531501&4294967295,g=S+(_<<20&4294967295|_>>>12),_=p+(S^C&(g^S))+w[13]+2850285829&4294967295,p=g+(_<<5&4294967295|_>>>27),_=C+(g^S&(p^g))+w[2]+4243563512&4294967295,C=p+(_<<9&4294967295|_>>>23),_=S+(p^g&(C^p))+w[7]+1735328473&4294967295,S=C+(_<<14&4294967295|_>>>18),_=g+(C^p&(S^C))+w[12]+2368359562&4294967295,g=S+(_<<20&4294967295|_>>>12),_=p+(g^S^C)+w[5]+4294588738&4294967295,p=g+(_<<4&4294967295|_>>>28),_=C+(p^g^S)+w[8]+2272392833&4294967295,C=p+(_<<11&4294967295|_>>>21),_=S+(C^p^g)+w[11]+1839030562&4294967295,S=C+(_<<16&4294967295|_>>>16),_=g+(S^C^p)+w[14]+4259657740&4294967295,g=S+(_<<23&4294967295|_>>>9),_=p+(g^S^C)+w[1]+2763975236&4294967295,p=g+(_<<4&4294967295|_>>>28),_=C+(p^g^S)+w[4]+1272893353&4294967295,C=p+(_<<11&4294967295|_>>>21),_=S+(C^p^g)+w[7]+4139469664&4294967295,S=C+(_<<16&4294967295|_>>>16),_=g+(S^C^p)+w[10]+3200236656&4294967295,g=S+(_<<23&4294967295|_>>>9),_=p+(g^S^C)+w[13]+681279174&4294967295,p=g+(_<<4&4294967295|_>>>28),_=C+(p^g^S)+w[0]+3936430074&4294967295,C=p+(_<<11&4294967295|_>>>21),_=S+(C^p^g)+w[3]+3572445317&4294967295,S=C+(_<<16&4294967295|_>>>16),_=g+(S^C^p)+w[6]+76029189&4294967295,g=S+(_<<23&4294967295|_>>>9),_=p+(g^S^C)+w[9]+3654602809&4294967295,p=g+(_<<4&4294967295|_>>>28),_=C+(p^g^S)+w[12]+3873151461&4294967295,C=p+(_<<11&4294967295|_>>>21),_=S+(C^p^g)+w[15]+530742520&4294967295,S=C+(_<<16&4294967295|_>>>16),_=g+(S^C^p)+w[2]+3299628645&4294967295,g=S+(_<<23&4294967295|_>>>9),_=p+(S^(g|~C))+w[0]+4096336452&4294967295,p=g+(_<<6&4294967295|_>>>26),_=C+(g^(p|~S))+w[7]+1126891415&4294967295,C=p+(_<<10&4294967295|_>>>22),_=S+(p^(C|~g))+w[14]+2878612391&4294967295,S=C+(_<<15&4294967295|_>>>17),_=g+(C^(S|~p))+w[5]+4237533241&4294967295,g=S+(_<<21&4294967295|_>>>11),_=p+(S^(g|~C))+w[12]+1700485571&4294967295,p=g+(_<<6&4294967295|_>>>26),_=C+(g^(p|~S))+w[3]+2399980690&4294967295,C=p+(_<<10&4294967295|_>>>22),_=S+(p^(C|~g))+w[10]+4293915773&4294967295,S=C+(_<<15&4294967295|_>>>17),_=g+(C^(S|~p))+w[1]+2240044497&4294967295,g=S+(_<<21&4294967295|_>>>11),_=p+(S^(g|~C))+w[8]+1873313359&4294967295,p=g+(_<<6&4294967295|_>>>26),_=C+(g^(p|~S))+w[15]+4264355552&4294967295,C=p+(_<<10&4294967295|_>>>22),_=S+(p^(C|~g))+w[6]+2734768916&4294967295,S=C+(_<<15&4294967295|_>>>17),_=g+(C^(S|~p))+w[13]+1309151649&4294967295,g=S+(_<<21&4294967295|_>>>11),_=p+(S^(g|~C))+w[4]+4149444226&4294967295,p=g+(_<<6&4294967295|_>>>26),_=C+(g^(p|~S))+w[11]+3174756917&4294967295,C=p+(_<<10&4294967295|_>>>22),_=S+(p^(C|~g))+w[2]+718787259&4294967295,S=C+(_<<15&4294967295|_>>>17),_=g+(C^(S|~p))+w[9]+3951481745&4294967295,y.g[0]=y.g[0]+p&4294967295,y.g[1]=y.g[1]+(S+(_<<21&4294967295|_>>>11))&4294967295,y.g[2]=y.g[2]+S&4294967295,y.g[3]=y.g[3]+C&4294967295}r.prototype.u=function(y,p){p===void 0&&(p=y.length);for(var g=p-this.blockSize,w=this.B,S=this.h,C=0;C<p;){if(S==0)for(;C<=g;)i(this,y,C),C+=this.blockSize;if(typeof y=="string"){for(;C<p;)if(w[S++]=y.charCodeAt(C++),S==this.blockSize){i(this,w),S=0;break}}else for(;C<p;)if(w[S++]=y[C++],S==this.blockSize){i(this,w),S=0;break}}this.h=S,this.o+=p},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var p=1;p<y.length-8;++p)y[p]=0;var g=8*this.o;for(p=y.length-8;p<y.length;++p)y[p]=g&255,g/=256;for(this.u(y),y=Array(16),p=g=0;4>p;++p)for(var w=0;32>w;w+=8)y[g++]=this.g[p]>>>w&255;return y};function o(y,p){var g=u;return Object.prototype.hasOwnProperty.call(g,y)?g[y]:g[y]=p(y)}function l(y,p){this.h=p;for(var g=[],w=!0,S=y.length-1;0<=S;S--){var C=y[S]|0;w&&C==p||(g[S]=C,w=!1)}this.g=g}var u={};function c(y){return-128<=y&&128>y?o(y,function(p){return new l([p|0],0>p?-1:0)}):new l([y|0],0>y?-1:0)}function f(y){if(isNaN(y)||!isFinite(y))return E;if(0>y)return F(f(-y));for(var p=[],g=1,w=0;y>=g;w++)p[w]=y/g|0,g*=4294967296;return new l(p,0)}function m(y,p){if(y.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(y.charAt(0)=="-")return F(m(y.substring(1),p));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=f(Math.pow(p,8)),w=E,S=0;S<y.length;S+=8){var C=Math.min(8,y.length-S),_=parseInt(y.substring(S,S+C),p);8>C?(C=f(Math.pow(p,C)),w=w.j(C).add(f(_))):(w=w.j(g),w=w.add(f(_)))}return w}var E=c(0),T=c(1),R=c(16777216);t=l.prototype,t.m=function(){if(N(this))return-F(this).m();for(var y=0,p=1,g=0;g<this.g.length;g++){var w=this.i(g);y+=(0<=w?w:4294967296+w)*p,p*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(D(this))return"0";if(N(this))return"-"+F(this).toString(y);for(var p=f(Math.pow(y,6)),g=this,w="";;){var S=V(g,p).g;g=I(g,S.j(p));var C=((0<g.g.length?g.g[0]:g.h)>>>0).toString(y);if(g=S,D(g))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function D(y){if(y.h!=0)return!1;for(var p=0;p<y.g.length;p++)if(y.g[p]!=0)return!1;return!0}function N(y){return y.h==-1}t.l=function(y){return y=I(this,y),N(y)?-1:D(y)?0:1};function F(y){for(var p=y.g.length,g=[],w=0;w<p;w++)g[w]=~y.g[w];return new l(g,~y.h).add(T)}t.abs=function(){return N(this)?F(this):this},t.add=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],w=0,S=0;S<=p;S++){var C=w+(this.i(S)&65535)+(y.i(S)&65535),_=(C>>>16)+(this.i(S)>>>16)+(y.i(S)>>>16);w=_>>>16,C&=65535,_&=65535,g[S]=_<<16|C}return new l(g,g[g.length-1]&-2147483648?-1:0)};function I(y,p){return y.add(F(p))}t.j=function(y){if(D(this)||D(y))return E;if(N(this))return N(y)?F(this).j(F(y)):F(F(this).j(y));if(N(y))return F(this.j(F(y)));if(0>this.l(R)&&0>y.l(R))return f(this.m()*y.m());for(var p=this.g.length+y.g.length,g=[],w=0;w<2*p;w++)g[w]=0;for(w=0;w<this.g.length;w++)for(var S=0;S<y.g.length;S++){var C=this.i(w)>>>16,_=this.i(w)&65535,dt=y.i(S)>>>16,Ln=y.i(S)&65535;g[2*w+2*S]+=_*Ln,v(g,2*w+2*S),g[2*w+2*S+1]+=C*Ln,v(g,2*w+2*S+1),g[2*w+2*S+1]+=_*dt,v(g,2*w+2*S+1),g[2*w+2*S+2]+=C*dt,v(g,2*w+2*S+2)}for(w=0;w<p;w++)g[w]=g[2*w+1]<<16|g[2*w];for(w=p;w<2*p;w++)g[w]=0;return new l(g,0)};function v(y,p){for(;(y[p]&65535)!=y[p];)y[p+1]+=y[p]>>>16,y[p]&=65535,p++}function A(y,p){this.g=y,this.h=p}function V(y,p){if(D(p))throw Error("division by zero");if(D(y))return new A(E,E);if(N(y))return p=V(F(y),p),new A(F(p.g),F(p.h));if(N(p))return p=V(y,F(p)),new A(F(p.g),p.h);if(30<y.g.length){if(N(y)||N(p))throw Error("slowDivide_ only works with positive integers.");for(var g=T,w=p;0>=w.l(y);)g=U(g),w=U(w);var S=B(g,1),C=B(w,1);for(w=B(w,2),g=B(g,2);!D(w);){var _=C.add(w);0>=_.l(y)&&(S=S.add(g),C=_),w=B(w,1),g=B(g,1)}return p=I(y,S.j(p)),new A(S,p)}for(S=E;0<=y.l(p);){for(g=Math.max(1,Math.floor(y.m()/p.m())),w=Math.ceil(Math.log(g)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=f(g),_=C.j(p);N(_)||0<_.l(y);)g-=w,C=f(g),_=C.j(p);D(C)&&(C=T),S=S.add(C),y=I(y,_)}return new A(S,y)}t.A=function(y){return V(this,y).h},t.and=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)&y.i(w);return new l(g,this.h&y.h)},t.or=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)|y.i(w);return new l(g,this.h|y.h)},t.xor=function(y){for(var p=Math.max(this.g.length,y.g.length),g=[],w=0;w<p;w++)g[w]=this.i(w)^y.i(w);return new l(g,this.h^y.h)};function U(y){for(var p=y.g.length+1,g=[],w=0;w<p;w++)g[w]=y.i(w)<<1|y.i(w-1)>>>31;return new l(g,y.h)}function B(y,p){var g=p>>5;p%=32;for(var w=y.g.length-g,S=[],C=0;C<w;C++)S[C]=0<p?y.i(C+g)>>>p|y.i(C+g+1)<<32-p:y.i(C+g);return new l(S,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,mg=l}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});var rs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gg,Pi,yg,Es,Nu,vg,_g,Eg;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,a,h){return s==Array.prototype||s==Object.prototype||(s[a]=h.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof rs=="object"&&rs];for(var a=0;a<s.length;++a){var h=s[a];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(s,a){if(a)e:{var h=r;s=s.split(".");for(var d=0;d<s.length-1;d++){var P=s[d];if(!(P in h))break e;h=h[P]}s=s[s.length-1],d=h[s],a=a(d),a!=d&&a!=null&&e(h,s,{configurable:!0,writable:!0,value:a})}}function o(s,a){s instanceof String&&(s+="");var h=0,d=!1,P={next:function(){if(!d&&h<s.length){var k=h++;return{value:a(k,s[k]),done:!1}}return d=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(s){return s||function(){return o(this,function(a,h){return h})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function c(s){var a=typeof s;return a=a!="object"?a:s?Array.isArray(s)?"array":a:"null",a=="array"||a=="object"&&typeof s.length=="number"}function f(s){var a=typeof s;return a=="object"&&s!=null||a=="function"}function m(s,a,h){return s.call.apply(s.bind,arguments)}function E(s,a,h){if(!s)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,d),s.apply(a,P)}}return function(){return s.apply(a,arguments)}}function T(s,a,h){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:E,T.apply(null,arguments)}function R(s,a){var h=Array.prototype.slice.call(arguments,1);return function(){var d=h.slice();return d.push.apply(d,arguments),s.apply(this,d)}}function D(s,a){function h(){}h.prototype=a.prototype,s.aa=a.prototype,s.prototype=new h,s.prototype.constructor=s,s.Qb=function(d,P,k){for(var M=Array(arguments.length-2),te=2;te<arguments.length;te++)M[te-2]=arguments[te];return a.prototype[P].apply(d,M)}}function N(s){const a=s.length;if(0<a){const h=Array(a);for(let d=0;d<a;d++)h[d]=s[d];return h}return[]}function F(s,a){for(let h=1;h<arguments.length;h++){const d=arguments[h];if(c(d)){const P=s.length||0,k=d.length||0;s.length=P+k;for(let M=0;M<k;M++)s[P+M]=d[M]}else s.push(d)}}class I{constructor(a,h){this.i=a,this.j=h,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}function v(s){return/^[\s\xa0]*$/.test(s)}function A(){var s=u.navigator;return s&&(s=s.userAgent)?s:""}function V(s){return V[" "](s),s}V[" "]=function(){};var U=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function B(s,a,h){for(const d in s)a.call(h,s[d],d,s)}function y(s,a){for(const h in s)a.call(void 0,s[h],h,s)}function p(s){const a={};for(const h in s)a[h]=s[h];return a}const g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(s,a){let h,d;for(let P=1;P<arguments.length;P++){d=arguments[P];for(h in d)s[h]=d[h];for(let k=0;k<g.length;k++)h=g[k],Object.prototype.hasOwnProperty.call(d,h)&&(s[h]=d[h])}}function S(s){var a=1;s=s.split(":");const h=[];for(;0<a&&s.length;)h.push(s.shift()),a--;return s.length&&h.push(s.join(":")),h}function C(s){u.setTimeout(()=>{throw s},0)}function _(){var s=b;let a=null;return s.g&&(a=s.g,s.g=s.g.next,s.g||(s.h=null),a.next=null),a}class dt{constructor(){this.h=this.g=null}add(a,h){const d=Ln.get();d.set(a,h),this.h?this.h.next=d:this.g=d,this.h=d}}var Ln=new I(()=>new Jr,s=>s.reset());class Jr{constructor(){this.next=this.g=this.h=null}set(a,h){this.h=a,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Bt,j=!1,b=new dt,Q=()=>{const s=u.Promise.resolve(void 0);Bt=()=>{s.then(ue)}};var ue=()=>{for(var s;s=_();){try{s.h.call(s.g)}catch(h){C(h)}var a=Ln;a.j(s),100>a.h&&(a.h++,s.next=a.g,a.g=s)}j=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(s,a){this.type=s,this.g=this.target=a,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var jt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var s=!1,a=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const h=()=>{};u.addEventListener("test",h,a),u.removeEventListener("test",h,a)}catch{}return s}();function zt(s,a){if(ye.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var h=this.type=s.type,d=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=a,a=s.relatedTarget){if(U){e:{try{V(a.nodeName);var P=!0;break e}catch{}P=!1}P||(a=null)}}else h=="mouseover"?a=s.fromElement:h=="mouseout"&&(a=s.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:$t[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&zt.aa.h.call(this)}}D(zt,ye);var $t={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),Ey=0;function wy(s,a,h,d,P){this.listener=s,this.proxy=null,this.src=a,this.type=h,this.capture=!!d,this.ha=P,this.key=++Ey,this.da=this.fa=!1}function To(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Io(s){this.src=s,this.g={},this.h=0}Io.prototype.add=function(s,a,h,d,P){var k=s.toString();s=this.g[k],s||(s=this.g[k]=[],this.h++);var M=xl(s,a,d,P);return-1<M?(a=s[M],h||(a.fa=!1)):(a=new wy(a,this.src,k,!!d,P),a.fa=h,s.push(a)),a};function Nl(s,a){var h=a.type;if(h in s.g){var d=s.g[h],P=Array.prototype.indexOf.call(d,a,void 0),k;(k=0<=P)&&Array.prototype.splice.call(d,P,1),k&&(To(a),s.g[h].length==0&&(delete s.g[h],s.h--))}}function xl(s,a,h,d){for(var P=0;P<s.length;++P){var k=s[P];if(!k.da&&k.listener==a&&k.capture==!!h&&k.ha==d)return P}return-1}var Ol="closure_lm_"+(1e6*Math.random()|0),Ll={};function Zc(s,a,h,d,P){if(Array.isArray(a)){for(var k=0;k<a.length;k++)Zc(s,a[k],h,d,P);return null}return h=nh(h),s&&s[Ht]?s.K(a,h,f(d)?!!d.capture:!!d,P):Ty(s,a,h,!1,d,P)}function Ty(s,a,h,d,P,k){if(!a)throw Error("Invalid event type");var M=f(P)?!!P.capture:!!P,te=Fl(s);if(te||(s[Ol]=te=new Io(s)),h=te.add(a,h,d,M,k),h.proxy)return h;if(d=Iy(),h.proxy=d,d.src=s,d.listener=h,s.addEventListener)jt||(P=M),P===void 0&&(P=!1),s.addEventListener(a.toString(),d,P);else if(s.attachEvent)s.attachEvent(th(a.toString()),d);else if(s.addListener&&s.removeListener)s.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Iy(){function s(h){return a.call(s.src,s.listener,h)}const a=Sy;return s}function eh(s,a,h,d,P){if(Array.isArray(a))for(var k=0;k<a.length;k++)eh(s,a[k],h,d,P);else d=f(d)?!!d.capture:!!d,h=nh(h),s&&s[Ht]?(s=s.i,a=String(a).toString(),a in s.g&&(k=s.g[a],h=xl(k,h,d,P),-1<h&&(To(k[h]),Array.prototype.splice.call(k,h,1),k.length==0&&(delete s.g[a],s.h--)))):s&&(s=Fl(s))&&(a=s.g[a.toString()],s=-1,a&&(s=xl(a,h,d,P)),(h=-1<s?a[s]:null)&&Ml(h))}function Ml(s){if(typeof s!="number"&&s&&!s.da){var a=s.src;if(a&&a[Ht])Nl(a.i,s);else{var h=s.type,d=s.proxy;a.removeEventListener?a.removeEventListener(h,d,s.capture):a.detachEvent?a.detachEvent(th(h),d):a.addListener&&a.removeListener&&a.removeListener(d),(h=Fl(a))?(Nl(h,s),h.h==0&&(h.src=null,a[Ol]=null)):To(s)}}}function th(s){return s in Ll?Ll[s]:Ll[s]="on"+s}function Sy(s,a){if(s.da)s=!0;else{a=new zt(a,this);var h=s.listener,d=s.ha||s.src;s.fa&&Ml(s),s=h.call(d,a)}return s}function Fl(s){return s=s[Ol],s instanceof Io?s:null}var Ul="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(s){return typeof s=="function"?s:(s[Ul]||(s[Ul]=function(a){return s.handleEvent(a)}),s[Ul])}function Fe(){ee.call(this),this.i=new Io(this),this.M=this,this.F=null}D(Fe,ee),Fe.prototype[Ht]=!0,Fe.prototype.removeEventListener=function(s,a,h,d){eh(this,s,a,h,d)};function Ge(s,a){var h,d=s.F;if(d)for(h=[];d;d=d.F)h.push(d);if(s=s.M,d=a.type||a,typeof a=="string")a=new ye(a,s);else if(a instanceof ye)a.target=a.target||s;else{var P=a;a=new ye(d,s),w(a,P)}if(P=!0,h)for(var k=h.length-1;0<=k;k--){var M=a.g=h[k];P=So(M,d,!0,a)&&P}if(M=a.g=s,P=So(M,d,!0,a)&&P,P=So(M,d,!1,a)&&P,h)for(k=0;k<h.length;k++)M=a.g=h[k],P=So(M,d,!1,a)&&P}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var s=this.i,a;for(a in s.g){for(var h=s.g[a],d=0;d<h.length;d++)To(h[d]);delete s.g[a],s.h--}}this.F=null},Fe.prototype.K=function(s,a,h,d){return this.i.add(String(s),a,!1,h,d)},Fe.prototype.L=function(s,a,h,d){return this.i.add(String(s),a,!0,h,d)};function So(s,a,h,d){if(a=s.i.g[String(a)],!a)return!0;a=a.concat();for(var P=!0,k=0;k<a.length;++k){var M=a[k];if(M&&!M.da&&M.capture==h){var te=M.listener,De=M.ha||M.src;M.fa&&Nl(s.i,M),P=te.call(De,d)!==!1&&P}}return P&&!d.defaultPrevented}function rh(s,a,h){if(typeof s=="function")h&&(s=T(s,h));else if(s&&typeof s.handleEvent=="function")s=T(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:u.setTimeout(s,a||0)}function ih(s){s.g=rh(()=>{s.g=null,s.i&&(s.i=!1,ih(s))},s.l);const a=s.h;s.h=null,s.m.apply(null,a)}class Ay extends ee{constructor(a,h){super(),this.m=a,this.l=h,this.h=null,this.i=!1,this.g=null}j(a){this.h=arguments,this.g?this.i=!0:ih(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(s){ee.call(this),this.h=s,this.g={}}D(Zr,ee);var oh=[];function sh(s){B(s.g,function(a,h){this.g.hasOwnProperty(h)&&Ml(a)},s),s.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),sh(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bl=u.JSON.stringify,Py=u.JSON.parse,Cy=class{stringify(s){return u.JSON.stringify(s,void 0)}parse(s){return u.JSON.parse(s,void 0)}};function jl(){}jl.prototype.h=null;function lh(s){return s.h||(s.h=s.i())}function ah(){}var ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zl(){ye.call(this,"d")}D(zl,ye);function $l(){ye.call(this,"c")}D($l,ye);var Mn={},uh=null;function Ao(){return uh=uh||new Fe}Mn.La="serverreachability";function ch(s){ye.call(this,Mn.La,s)}D(ch,ye);function ti(s){const a=Ao();Ge(a,new ch(a))}Mn.STAT_EVENT="statevent";function hh(s,a){ye.call(this,Mn.STAT_EVENT,s),this.stat=a}D(hh,ye);function qe(s){const a=Ao();Ge(a,new hh(a,s))}Mn.Ma="timingevent";function fh(s,a){ye.call(this,Mn.Ma,s),this.size=a}D(fh,ye);function ni(s,a){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){s()},a)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function Ry(s,a,h,d,P,k){s.info(function(){if(s.g)if(k)for(var M="",te=k.split("&"),De=0;De<te.length;De++){var J=te[De].split("=");if(1<J.length){var Ue=J[0];J=J[1];var Be=Ue.split("_");M=2<=Be.length&&Be[1]=="type"?M+(Ue+"="+J+"&"):M+(Ue+"=redacted&")}}else M=null;else M=k;return"XMLHTTP REQ ("+d+") [attempt "+P+"]: "+a+`
`+h+`
`+M})}function ky(s,a,h,d,P,k,M){s.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+P+"]: "+a+`
`+h+`
`+k+" "+M})}function ar(s,a,h,d){s.info(function(){return"XMLHTTP TEXT ("+a+"): "+Vy(s,h)+(d?" "+d:"")})}function Dy(s,a){s.info(function(){return"TIMEOUT: "+a})}ri.prototype.info=function(){};function Vy(s,a){if(!s.g)return a;if(!a)return null;try{var h=JSON.parse(a);if(h){for(s=0;s<h.length;s++)if(Array.isArray(h[s])){var d=h[s];if(!(2>d.length)){var P=d[1];if(Array.isArray(P)&&!(1>P.length)){var k=P[0];if(k!="noop"&&k!="stop"&&k!="close")for(var M=1;M<P.length;M++)P[M]=""}}}}return Bl(h)}catch{return a}}var Po={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hl;function Co(){}D(Co,jl),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},Hl=new Co;function sn(s,a,h,d){this.j=s,this.i=a,this.l=h,this.R=d||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}var mh={},bl={};function Ql(s,a,h){s.L=1,s.v=Vo(bt(a)),s.m=h,s.P=!0,gh(s,null)}function gh(s,a){s.F=Date.now(),Ro(s),s.A=bt(s.v);var h=s.A,d=s.R;Array.isArray(d)||(d=[String(d)]),Dh(h.i,"t",d),s.C=0,h=s.j.J,s.h=new ph,s.g=Gh(s.j,h?a:null,!s.m),0<s.O&&(s.M=new Ay(T(s.Y,s,s.g),s.O)),a=s.U,h=s.g,d=s.ca;var P="readystatechange";Array.isArray(P)||(P&&(oh[0]=P.toString()),P=oh);for(var k=0;k<P.length;k++){var M=Zc(h,P[k],d||a.handleEvent,!1,a.h||a);if(!M)break;a.g[M.key]=M}a=s.H?p(s.H):{},s.m?(s.u||(s.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,a)):(s.u="GET",s.g.ea(s.A,s.u,null,a)),ti(),Ry(s.i,s.u,s.A,s.l,s.R,s.m)}sn.prototype.ca=function(s){s=s.target;const a=this.M;a&&Qt(s)==3?a.j():this.Y(s)},sn.prototype.Y=function(s){try{if(s==this.g)e:{const Be=Qt(this.g);var a=this.g.Ba();const hr=this.g.Z();if(!(3>Be)&&(Be!=3||this.g&&(this.h.h||this.g.oa()||Fh(this.g)))){this.J||Be!=4||a==7||(a==8||0>=hr?ti(3):ti(2)),Kl(this);var h=this.g.Z();this.X=h;t:if(yh(this)){var d=Fh(this.g);s="";var P=d.length,k=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fn(this),ii(this);var M="";break t}this.h.i=new u.TextDecoder}for(a=0;a<P;a++)this.h.h=!0,s+=this.h.i.decode(d[a],{stream:!(k&&a==P-1)});d.length=0,this.h.g+=s,this.C=0,M=this.h.g}else M=this.g.oa();if(this.o=h==200,ky(this.i,this.u,this.A,this.l,this.R,Be,h),this.o){if(this.T&&!this.K){t:{if(this.g){var te,De=this.g;if((te=De.g?De.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(te)){var J=te;break t}}J=null}if(h=J)ar(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wl(this,h);else{this.o=!1,this.s=3,qe(12),Fn(this),ii(this);break e}}if(this.P){h=!0;let Et;for(;!this.J&&this.C<M.length;)if(Et=Ny(this,M),Et==bl){Be==4&&(this.s=4,qe(14),h=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Et==mh){this.s=4,qe(15),ar(this.i,this.l,M,"[Invalid Chunk]"),h=!1;break}else ar(this.i,this.l,Et,null),Wl(this,Et);if(yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||M.length!=0||this.h.h||(this.s=1,qe(16),h=!1),this.o=this.o&&h,!h)ar(this.i,this.l,M,"[Invalid Chunked Response]"),Fn(this),ii(this);else if(0<M.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),Zl(Ue),Ue.M=!0,qe(11))}}else ar(this.i,this.l,M,null),Wl(this,M);Be==4&&Fn(this),this.o&&!this.J&&(Be==4?bh(this.j,this):(this.o=!1,Ro(this)))}else qy(this.g),h==400&&0<M.indexOf("Unknown SID")?(this.s=3,qe(12)):(this.s=0,qe(13)),Fn(this),ii(this)}}}catch{}finally{}};function yh(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function Ny(s,a){var h=s.C,d=a.indexOf(`
`,h);return d==-1?bl:(h=Number(a.substring(h,d)),isNaN(h)?mh:(d+=1,d+h>a.length?bl:(a=a.slice(d,d+h),s.C=d+h,a)))}sn.prototype.cancel=function(){this.J=!0,Fn(this)};function Ro(s){s.S=Date.now()+s.I,vh(s,s.I)}function vh(s,a){if(s.B!=null)throw Error("WatchDog timer not null");s.B=ni(T(s.ba,s),a)}function Kl(s){s.B&&(u.clearTimeout(s.B),s.B=null)}sn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(Dy(this.i,this.A),this.L!=2&&(ti(),qe(17)),Fn(this),this.s=2,ii(this)):vh(this,this.S-s)};function ii(s){s.j.G==0||s.J||bh(s.j,s)}function Fn(s){Kl(s);var a=s.M;a&&typeof a.ma=="function"&&a.ma(),s.M=null,sh(s.U),s.g&&(a=s.g,s.g=null,a.abort(),a.ma())}function Wl(s,a){try{var h=s.j;if(h.G!=0&&(h.g==s||Gl(h.h,s))){if(!s.K&&Gl(h.h,s)&&h.G==3){try{var d=h.Da.g.parse(a)}catch{d=null}if(Array.isArray(d)&&d.length==3){var P=d;if(P[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<s.F)Fo(h),Lo(h);else break e;Jl(h),qe(18)}}else h.za=P[1],0<h.za-h.T&&37500>P[2]&&h.F&&h.v==0&&!h.C&&(h.C=ni(T(h.Za,h),6e3));if(1>=wh(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Bn(h,11)}else if((s.K||h.g==s)&&Fo(h),!v(a))for(P=h.Da.g.parse(a),a=0;a<P.length;a++){let J=P[a];if(h.T=J[0],J=J[1],h.G==2)if(J[0]=="c"){h.K=J[1],h.ia=J[2];const Ue=J[3];Ue!=null&&(h.la=Ue,h.j.info("VER="+h.la));const Be=J[4];Be!=null&&(h.Aa=Be,h.j.info("SVER="+h.Aa));const hr=J[5];hr!=null&&typeof hr=="number"&&0<hr&&(d=1.5*hr,h.L=d,h.j.info("backChannelRequestTimeoutMs_="+d)),d=h;const Et=s.g;if(Et){const Bo=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var k=d.h;k.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ql(k,k.h),k.h=null))}if(d.D){const ea=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(d.ya=ea,oe(d.I,d.D,ea))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-s.F,h.j.info("Handshake RTT: "+h.R+"ms")),d=h;var M=s;if(d.qa=Wh(d,d.J?d.ia:null,d.W),M.K){Th(d.h,M);var te=M,De=d.L;De&&(te.I=De),te.B&&(Kl(te),Ro(te)),d.g=M}else $h(d);0<h.i.length&&Mo(h)}else J[0]!="stop"&&J[0]!="close"||Bn(h,7);else h.G==3&&(J[0]=="stop"||J[0]=="close"?J[0]=="stop"?Bn(h,7):Yl(h):J[0]!="noop"&&h.l&&h.l.ta(J),h.v=0)}}ti(4)}catch{}}var xy=class{constructor(s,a){this.g=s,this.map=a}};function _h(s){this.l=s||10,u.PerformanceNavigationTiming?(s=u.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eh(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function wh(s){return s.h?1:s.g?s.g.size:0}function Gl(s,a){return s.h?s.h==a:s.g?s.g.has(a):!1}function ql(s,a){s.g?s.g.add(a):s.h=a}function Th(s,a){s.h&&s.h==a?s.h=null:s.g&&s.g.has(a)&&s.g.delete(a)}_h.prototype.cancel=function(){if(this.i=Ih(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function Ih(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let a=s.i;for(const h of s.g.values())a=a.concat(h.D);return a}return N(s.i)}function Oy(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(c(s)){for(var a=[],h=s.length,d=0;d<h;d++)a.push(s[d]);return a}a=[],h=0;for(d in s)a[h++]=s[d];return a}function Ly(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(c(s)||typeof s=="string"){var a=[];s=s.length;for(var h=0;h<s;h++)a.push(h);return a}a=[],h=0;for(const d in s)a[h++]=d;return a}}}function Sh(s,a){if(s.forEach&&typeof s.forEach=="function")s.forEach(a,void 0);else if(c(s)||typeof s=="string")Array.prototype.forEach.call(s,a,void 0);else for(var h=Ly(s),d=Oy(s),P=d.length,k=0;k<P;k++)a.call(void 0,d[k],h&&h[k],s)}var Ah=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function My(s,a){if(s){s=s.split("&");for(var h=0;h<s.length;h++){var d=s[h].indexOf("="),P=null;if(0<=d){var k=s[h].substring(0,d);P=s[h].substring(d+1)}else k=s[h];a(k,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Un(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof Un){this.h=s.h,ko(this,s.j),this.o=s.o,this.g=s.g,Do(this,s.s),this.l=s.l;var a=s.i,h=new li;h.i=a.i,a.g&&(h.g=new Map(a.g),h.h=a.h),Ph(this,h),this.m=s.m}else s&&(a=String(s).match(Ah))?(this.h=!1,ko(this,a[1]||"",!0),this.o=oi(a[2]||""),this.g=oi(a[3]||"",!0),Do(this,a[4]),this.l=oi(a[5]||"",!0),Ph(this,a[6]||"",!0),this.m=oi(a[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Un.prototype.toString=function(){var s=[],a=this.j;a&&s.push(si(a,Ch,!0),":");var h=this.g;return(h||a=="file")&&(s.push("//"),(a=this.o)&&s.push(si(a,Ch,!0),"@"),s.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&s.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&s.push("/"),s.push(si(h,h.charAt(0)=="/"?By:Uy,!0))),(h=this.i.toString())&&s.push("?",h),(h=this.m)&&s.push("#",si(h,zy)),s.join("")};function bt(s){return new Un(s)}function ko(s,a,h){s.j=h?oi(a,!0):a,s.j&&(s.j=s.j.replace(/:$/,""))}function Do(s,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);s.s=a}else s.s=null}function Ph(s,a,h){a instanceof li?(s.i=a,$y(s.i,s.h)):(h||(a=si(a,jy)),s.i=new li(a,s.h))}function oe(s,a,h){s.i.set(a,h)}function Vo(s){return oe(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function oi(s,a){return s?a?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function si(s,a,h){return typeof s=="string"?(s=encodeURI(s).replace(a,Fy),h&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function Fy(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Ch=/[#\/\?@]/g,Uy=/[#\?:]/g,By=/[#\?]/g,jy=/[#\?@]/g,zy=/#/g;function li(s,a){this.h=this.g=null,this.i=s||null,this.j=!!a}function ln(s){s.g||(s.g=new Map,s.h=0,s.i&&My(s.i,function(a,h){s.add(decodeURIComponent(a.replace(/\+/g," ")),h)}))}t=li.prototype,t.add=function(s,a){ln(this),this.i=null,s=ur(this,s);var h=this.g.get(s);return h||this.g.set(s,h=[]),h.push(a),this.h+=1,this};function Rh(s,a){ln(s),a=ur(s,a),s.g.has(a)&&(s.i=null,s.h-=s.g.get(a).length,s.g.delete(a))}function kh(s,a){return ln(s),a=ur(s,a),s.g.has(a)}t.forEach=function(s,a){ln(this),this.g.forEach(function(h,d){h.forEach(function(P){s.call(a,P,d,this)},this)},this)},t.na=function(){ln(this);const s=Array.from(this.g.values()),a=Array.from(this.g.keys()),h=[];for(let d=0;d<a.length;d++){const P=s[d];for(let k=0;k<P.length;k++)h.push(a[d])}return h},t.V=function(s){ln(this);let a=[];if(typeof s=="string")kh(this,s)&&(a=a.concat(this.g.get(ur(this,s))));else{s=Array.from(this.g.values());for(let h=0;h<s.length;h++)a=a.concat(s[h])}return a},t.set=function(s,a){return ln(this),this.i=null,s=ur(this,s),kh(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[a]),this.h+=1,this},t.get=function(s,a){return s?(s=this.V(s),0<s.length?String(s[0]):a):a};function Dh(s,a,h){Rh(s,a),0<h.length&&(s.i=null,s.g.set(ur(s,a),N(h)),s.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],a=Array.from(this.g.keys());for(var h=0;h<a.length;h++){var d=a[h];const k=encodeURIComponent(String(d)),M=this.V(d);for(d=0;d<M.length;d++){var P=k;M[d]!==""&&(P+="="+encodeURIComponent(String(M[d]))),s.push(P)}}return this.i=s.join("&")};function ur(s,a){return a=String(a),s.j&&(a=a.toLowerCase()),a}function $y(s,a){a&&!s.j&&(ln(s),s.i=null,s.g.forEach(function(h,d){var P=d.toLowerCase();d!=P&&(Rh(this,d),Dh(this,P,h))},s)),s.j=a}function Hy(s,a){const h=new ri;if(u.Image){const d=new Image;d.onload=R(an,h,"TestLoadImage: loaded",!0,a,d),d.onerror=R(an,h,"TestLoadImage: error",!1,a,d),d.onabort=R(an,h,"TestLoadImage: abort",!1,a,d),d.ontimeout=R(an,h,"TestLoadImage: timeout",!1,a,d),u.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=s}else a(!1)}function by(s,a){const h=new ri,d=new AbortController,P=setTimeout(()=>{d.abort(),an(h,"TestPingServer: timeout",!1,a)},1e4);fetch(s,{signal:d.signal}).then(k=>{clearTimeout(P),k.ok?an(h,"TestPingServer: ok",!0,a):an(h,"TestPingServer: server error",!1,a)}).catch(()=>{clearTimeout(P),an(h,"TestPingServer: error",!1,a)})}function an(s,a,h,d,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),d(h)}catch{}}function Qy(){this.g=new Cy}function Ky(s,a,h){const d=h||"";try{Sh(s,function(P,k){let M=P;f(P)&&(M=Bl(P)),a.push(d+k+"="+encodeURIComponent(M))})}catch(P){throw a.push(d+"type="+encodeURIComponent("_badmap")),P}}function No(s){this.l=s.Ub||null,this.j=s.eb||!1}D(No,jl),No.prototype.g=function(){return new xo(this.l,this.j)},No.prototype.i=function(s){return function(){return s}}({});function xo(s,a){Fe.call(this),this.D=s,this.o=a,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(xo,Fe),t=xo.prototype,t.open=function(s,a){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=a,this.readyState=1,ui(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(a.body=s),(this.D||u).fetch(new Request(this.A,a)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vh(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vh(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var a=s.value?s.value:new Uint8Array(0);(a=this.v.decode(a,{stream:!s.done}))&&(this.response=this.responseText+=a)}s.done?ai(this):ui(this),this.readyState==3&&Vh(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,ai(this))},t.Qa=function(s){this.g&&(this.response=s,ai(this))},t.ga=function(){this.g&&ai(this)};function ai(s){s.readyState=4,s.l=null,s.j=null,s.v=null,ui(s)}t.setRequestHeader=function(s,a){this.u.append(s,a)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],a=this.h.entries();for(var h=a.next();!h.done;)h=h.value,s.push(h[0]+": "+h[1]),h=a.next();return s.join(`\r
`)};function ui(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function Nh(s){let a="";return B(s,function(h,d){a+=d,a+=":",a+=h,a+=`\r
`}),a}function Xl(s,a,h){e:{for(d in h){var d=!1;break e}d=!0}d||(h=Nh(h),typeof s=="string"?h!=null&&encodeURIComponent(String(h)):oe(s,a,h))}function pe(s){Fe.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(pe,Fe);var Wy=/^https?$/i,Gy=["POST","PUT"];t=pe.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,a,h,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);a=a?a.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hl.g(),this.v=this.o?lh(this.o):lh(Hl),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(a,String(s),!0),this.B=!1}catch(k){xh(this,k);return}if(s=h||"",h=new Map(this.headers),d)if(Object.getPrototypeOf(d)===Object.prototype)for(var P in d)h.set(P,d[P]);else if(typeof d.keys=="function"&&typeof d.get=="function")for(const k of d.keys())h.set(k,d.get(k));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(h.keys()).find(k=>k.toLowerCase()=="content-type"),P=u.FormData&&s instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Gy,a,void 0))||d||P||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,M]of h)this.g.setRequestHeader(k,M);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mh(this),this.u=!0,this.g.send(s),this.u=!1}catch(k){xh(this,k)}};function xh(s,a){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=a,s.m=5,Oh(s),Oo(s)}function Oh(s){s.A||(s.A=!0,Ge(s,"complete"),Ge(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Ge(this,"complete"),Ge(this,"abort"),Oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oo(this,!0)),pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lh(this):this.bb())},t.bb=function(){Lh(this)};function Lh(s){if(s.h&&typeof l<"u"&&(!s.v[1]||Qt(s)!=4||s.Z()!=2)){if(s.u&&Qt(s)==4)rh(s.Ea,0,s);else if(Ge(s,"readystatechange"),Qt(s)==4){s.h=!1;try{const M=s.Z();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var h;if(!(h=a)){var d;if(d=M===0){var P=String(s.D).match(Ah)[1]||null;!P&&u.self&&u.self.location&&(P=u.self.location.protocol.slice(0,-1)),d=!Wy.test(P?P.toLowerCase():"")}h=d}if(h)Ge(s,"complete"),Ge(s,"success");else{s.m=6;try{var k=2<Qt(s)?s.g.statusText:""}catch{k=""}s.l=k+" ["+s.Z()+"]",Oh(s)}}finally{Oo(s)}}}}function Oo(s,a){if(s.g){Mh(s);const h=s.g,d=s.v[0]?()=>{}:null;s.g=null,s.v=null,a||Ge(s,"ready");try{h.onreadystatechange=d}catch{}}}function Mh(s){s.I&&(u.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function Qt(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var a=this.g.responseText;return s&&a.indexOf(s)==0&&(a=a.substring(s.length)),Py(a)}};function Fh(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function qy(s){const a={};s=(s.g&&2<=Qt(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let d=0;d<s.length;d++){if(v(s[d]))continue;var h=S(s[d]);const P=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();const k=a[P]||[];a[P]=k,k.push(h)}y(a,function(d){return d.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ci(s,a,h){return h&&h.internalChannelParams&&h.internalChannelParams[s]||a}function Uh(s){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ci("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ci("baseRetryDelayMs",5e3,s),this.cb=ci("retryDelaySeedMs",1e4,s),this.Wa=ci("forwardChannelMaxRetries",2,s),this.wa=ci("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new _h(s&&s.concurrentRequestLimit),this.Da=new Qy,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Uh.prototype,t.la=8,t.G=1,t.connect=function(s,a,h,d){qe(0),this.W=s,this.H=a||{},h&&d!==void 0&&(this.H.OSID=h,this.H.OAID=d),this.F=this.X,this.I=Wh(this,null,this.W),Mo(this)};function Yl(s){if(Bh(s),s.G==3){var a=s.U++,h=bt(s.I);if(oe(h,"SID",s.K),oe(h,"RID",a),oe(h,"TYPE","terminate"),hi(s,h),a=new sn(s,s.j,a),a.L=2,a.v=Vo(bt(h)),h=!1,u.navigator&&u.navigator.sendBeacon)try{h=u.navigator.sendBeacon(a.v.toString(),"")}catch{}!h&&u.Image&&(new Image().src=a.v,h=!0),h||(a.g=Gh(a.j,null),a.g.ea(a.v)),a.F=Date.now(),Ro(a)}Kh(s)}function Lo(s){s.g&&(Zl(s),s.g.cancel(),s.g=null)}function Bh(s){Lo(s),s.u&&(u.clearTimeout(s.u),s.u=null),Fo(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&u.clearTimeout(s.s),s.s=null)}function Mo(s){if(!Eh(s.h)&&!s.s){s.s=!0;var a=s.Ga;Bt||Q(),j||(Bt(),j=!0),b.add(a,s),s.B=0}}function Xy(s,a){return wh(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=a.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=ni(T(s.Ga,s,a),Qh(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const P=new sn(this,this.j,s);let k=this.o;if(this.S&&(k?(k=p(k),w(k,this.S)):k=this.S),this.m!==null||this.O||(P.H=k,k=null),this.P)e:{for(var a=0,h=0;h<this.i.length;h++){t:{var d=this.i[h];if("__data__"in d.map&&(d=d.map.__data__,typeof d=="string")){d=d.length;break t}d=void 0}if(d===void 0)break;if(a+=d,4096<a){a=h;break e}if(a===4096||h===this.i.length-1){a=h+1;break e}}a=1e3}else a=1e3;a=zh(this,P,a),h=bt(this.I),oe(h,"RID",s),oe(h,"CVER",22),this.D&&oe(h,"X-HTTP-Session-Id",this.D),hi(this,h),k&&(this.O?a="headers="+encodeURIComponent(String(Nh(k)))+"&"+a:this.m&&Xl(h,this.m,k)),ql(this.h,P),this.Ua&&oe(h,"TYPE","init"),this.P?(oe(h,"$req",a),oe(h,"SID","null"),P.T=!0,Ql(P,h,null)):Ql(P,h,a),this.G=2}}else this.G==3&&(s?jh(this,s):this.i.length==0||Eh(this.h)||jh(this))};function jh(s,a){var h;a?h=a.l:h=s.U++;const d=bt(s.I);oe(d,"SID",s.K),oe(d,"RID",h),oe(d,"AID",s.T),hi(s,d),s.m&&s.o&&Xl(d,s.m,s.o),h=new sn(s,s.j,h,s.B+1),s.m===null&&(h.H=s.o),a&&(s.i=a.D.concat(s.i)),a=zh(s,h,1e3),h.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),ql(s.h,h),Ql(h,d,a)}function hi(s,a){s.H&&B(s.H,function(h,d){oe(a,d,h)}),s.l&&Sh({},function(h,d){oe(a,d,h)})}function zh(s,a,h){h=Math.min(s.i.length,h);var d=s.l?T(s.l.Na,s.l,s):null;e:{var P=s.i;let k=-1;for(;;){const M=["count="+h];k==-1?0<h?(k=P[0].g,M.push("ofs="+k)):k=0:M.push("ofs="+k);let te=!0;for(let De=0;De<h;De++){let J=P[De].g;const Ue=P[De].map;if(J-=k,0>J)k=Math.max(0,P[De].g-100),te=!1;else try{Ky(Ue,M,"req"+J+"_")}catch{d&&d(Ue)}}if(te){d=M.join("&");break e}}}return s=s.i.splice(0,h),a.D=s,d}function $h(s){if(!s.g&&!s.u){s.Y=1;var a=s.Fa;Bt||Q(),j||(Bt(),j=!0),b.add(a,s),s.v=0}}function Jl(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=ni(T(s.Fa,s),Qh(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,Hh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=ni(T(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qe(10),Lo(this),Hh(this))};function Zl(s){s.A!=null&&(u.clearTimeout(s.A),s.A=null)}function Hh(s){s.g=new sn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var a=bt(s.qa);oe(a,"RID","rpc"),oe(a,"SID",s.K),oe(a,"AID",s.T),oe(a,"CI",s.F?"0":"1"),!s.F&&s.ja&&oe(a,"TO",s.ja),oe(a,"TYPE","xmlhttp"),hi(s,a),s.m&&s.o&&Xl(a,s.m,s.o),s.L&&(s.g.I=s.L);var h=s.g;s=s.ia,h.L=1,h.v=Vo(bt(a)),h.m=null,h.P=!0,gh(h,s)}t.Za=function(){this.C!=null&&(this.C=null,Lo(this),Jl(this),qe(19))};function Fo(s){s.C!=null&&(u.clearTimeout(s.C),s.C=null)}function bh(s,a){var h=null;if(s.g==a){Fo(s),Zl(s),s.g=null;var d=2}else if(Gl(s.h,a))h=a.D,Th(s.h,a),d=1;else return;if(s.G!=0){if(a.o)if(d==1){h=a.m?a.m.length:0,a=Date.now()-a.F;var P=s.B;d=Ao(),Ge(d,new fh(d,h)),Mo(s)}else $h(s);else if(P=a.s,P==3||P==0&&0<a.X||!(d==1&&Xy(s,a)||d==2&&Jl(s)))switch(h&&0<h.length&&(a=s.h,a.i=a.i.concat(h)),P){case 1:Bn(s,5);break;case 4:Bn(s,10);break;case 3:Bn(s,6);break;default:Bn(s,2)}}}function Qh(s,a){let h=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(h*=2),h*a}function Bn(s,a){if(s.j.info("Error code "+a),a==2){var h=T(s.fb,s),d=s.Xa;const P=!d;d=new Un(d||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ko(d,"https"),Vo(d),P?Hy(d.toString(),h):by(d.toString(),h)}else qe(2);s.G=0,s.l&&s.l.sa(a),Kh(s),Bh(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),qe(2)):(this.j.info("Failed to ping google.com"),qe(1))};function Kh(s){if(s.G=0,s.ka=[],s.l){const a=Ih(s.h);(a.length!=0||s.i.length!=0)&&(F(s.ka,a),F(s.ka,s.i),s.h.i.length=0,N(s.i),s.i.length=0),s.l.ra()}}function Wh(s,a,h){var d=h instanceof Un?bt(h):new Un(h);if(d.g!="")a&&(d.g=a+"."+d.g),Do(d,d.s);else{var P=u.location;d=P.protocol,a=a?a+"."+P.hostname:P.hostname,P=+P.port;var k=new Un(null);d&&ko(k,d),a&&(k.g=a),P&&Do(k,P),h&&(k.l=h),d=k}return h=s.D,a=s.ya,h&&a&&oe(d,h,a),oe(d,"VER",s.la),hi(s,d),d}function Gh(s,a,h){if(a&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return a=s.Ca&&!s.pa?new pe(new No({eb:h})):new pe(s.pa),a.Ha(s.J),a}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}t=qh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Uo(){}Uo.prototype.g=function(s,a){return new st(s,a)};function st(s,a){Fe.call(this),this.g=new Uh(a),this.l=s,this.h=a&&a.messageUrlParams||null,s=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(s?s["X-WebChannel-Content-Type"]=a.messageContentType:s={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.va&&(s?s["X-WebChannel-Client-Profile"]=a.va:s={"X-WebChannel-Client-Profile":a.va}),this.g.S=s,(s=a&&a.Sb)&&!v(s)&&(this.g.m=s),this.v=a&&a.supportsCrossDomainXhr||!1,this.u=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!v(a)&&(this.g.D=a,s=this.h,s!==null&&a in s&&(s=this.h,a in s&&delete s[a])),this.j=new cr(this)}D(st,Fe),st.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},st.prototype.close=function(){Yl(this.g)},st.prototype.o=function(s){var a=this.g;if(typeof s=="string"){var h={};h.__data__=s,s=h}else this.u&&(h={},h.__data__=Bl(s),s=h);a.i.push(new xy(a.Ya++,s)),a.G==3&&Mo(a)},st.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,st.aa.N.call(this)};function Xh(s){zl.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var a=s.__sm__;if(a){e:{for(const h in a){s=h;break e}s=void 0}(this.i=s)&&(s=this.i,a=a!==null&&s in a?a[s]:void 0),this.data=a}else this.data=s}D(Xh,zl);function Yh(){$l.call(this),this.status=1}D(Yh,$l);function cr(s){this.g=s}D(cr,qh),cr.prototype.ua=function(){Ge(this.g,"a")},cr.prototype.ta=function(s){Ge(this.g,new Xh(s))},cr.prototype.sa=function(s){Ge(this.g,new Yh)},cr.prototype.ra=function(){Ge(this.g,"b")},Uo.prototype.createWebChannel=Uo.prototype.g,st.prototype.send=st.prototype.o,st.prototype.open=st.prototype.m,st.prototype.close=st.prototype.close,Eg=function(){return new Uo},_g=function(){return Ao()},vg=Mn,Nu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Po.NO_ERROR=0,Po.TIMEOUT=8,Po.HTTP_ERROR=6,Es=Po,dh.COMPLETE="complete",yg=dh,ah.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Pi=ah,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,gg=pe}).apply(typeof rs<"u"?rs:typeof self<"u"?self:typeof window<"u"?window:{});const _d="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new ug("@firebase/firestore");function Ei(){return nr.logLevel}function $(t,...e){if(nr.logLevel<=X.DEBUG){const n=e.map(Fc);nr.debug(`Firestore (${Xr}): ${t}`,...n)}}function rr(t,...e){if(nr.logLevel<=X.ERROR){const n=e.map(Fc);nr.error(`Firestore (${Xr}): ${t}`,...n)}}function Xs(t,...e){if(nr.logLevel<=X.WARN){const n=e.map(Fc);nr.warn(`Firestore (${Xr}): ${t}`,...n)}}function Fc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${Xr}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function _e(t,e){t||G()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}}class nE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rE{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qn)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new wg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new He(e)}}class iE{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oE{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);const r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new sE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=aE(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function zr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ke(0,0))}static max(){return new ce(new ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return so.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof so?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),l=n.get(i);if(o<l)return-1;if(o>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ge extends so{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const uE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oe extends so{construct(e,n,r){return new Oe(e,n,r)}static isValidIdentifier(e){return uE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Oe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new H(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new H(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Oe(n)}static emptyPath(){return new Oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ge.fromString(e))}static fromName(e){return new K(ge.fromString(e).popFirst(5))}static empty(){return new K(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ge(e.slice()))}}function cE(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new kn(i,K.empty(),e)}function hE(t){return new kn(t.readTime,t.key,-1)}class kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kn(ce.min(),K.empty(),-1)}static max(){return new kn(ce.max(),K.empty(),-1)}}function fE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==dE)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&n()},c=>r(c))}),l=!0,o===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,n){return new x((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function mE(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Sg.oe=-1;function Uc(t){return t==null}function Ys(t){return t===0&&1/t==-1/0}function gE(t){return typeof t=="number"&&Number.isInteger(t)&&!Ys(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ag(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ne.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ne.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ne.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new is(this.root,e,this.comparator,!1)}getReverseIterator(){return new is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new is(this.root,e,this.comparator,!0)}}class is{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ne{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ne.RED,this.left=i??Ne.EMPTY,this.right=o??Ne.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ne(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ne.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ne.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ne.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ne.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Ne.EMPTY=null,Ne.RED=!0,Ne.BLACK=!1;Ne.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ne(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class wd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.fields=e,e.sort(Oe.comparator)}static empty(){return new Ct([])}unionWith(e){let n=new Ke(Oe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ct(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yE("Invalid base64 string: "+o):o}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const vE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(_e(!!t),typeof t=="string"){let e=0;const n=vE.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lo(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pg(t){const e=t.mapValue.fields.__previous_value__;return Bc(e)?Pg(e):e}function Js(t){const e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,i,o,l,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f}}class Zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bc(t)?4:wE(t)?9007199254740991:EE(t)?10:11:G()}function Ut(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Js(t).isEqual(Js(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ir(i.timestampValue),u=ir(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return lo(i.bytesValue).isEqual(lo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=xe(i.doubleValue),u=xe(o.doubleValue);return l===u?Ys(l)===Ys(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return zr(t.arrayValue.values||[],e.arrayValue.values||[],Ut);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(Ed(l)!==Ed(u))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(u[c]===void 0||!Ut(l[c],u[c])))return!1;return!0}(t,e);default:return G()}}function ao(t,e){return(t.values||[]).find(n=>Ut(n,e))!==void 0}function Hr(t,e){if(t===e)return 0;const n=$r(t),r=$r(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=xe(o.integerValue||o.doubleValue),c=xe(l.integerValue||l.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Td(t.timestampValue,e.timestampValue);case 4:return Td(Js(t),Js(e));case 5:return ne(t.stringValue,e.stringValue);case 6:return function(o,l){const u=lo(o),c=lo(l);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),c=l.split("/");for(let f=0;f<u.length&&f<c.length;f++){const m=ne(u[f],c[f]);if(m!==0)return m}return ne(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=ne(xe(o.latitude),xe(l.latitude));return u!==0?u:ne(xe(o.longitude),xe(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Id(t.arrayValue,e.arrayValue);case 10:return function(o,l){var u,c,f,m;const E=o.fields||{},T=l.fields||{},R=(u=E.value)===null||u===void 0?void 0:u.arrayValue,D=(c=T.value)===null||c===void 0?void 0:c.arrayValue,N=ne(((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0,((m=D==null?void 0:D.values)===null||m===void 0?void 0:m.length)||0);return N!==0?N:Id(R,D)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===os.mapValue&&l===os.mapValue)return 0;if(o===os.mapValue)return 1;if(l===os.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),f=l.fields||{},m=Object.keys(f);c.sort(),m.sort();for(let E=0;E<c.length&&E<m.length;++E){const T=ne(c[E],m[E]);if(T!==0)return T;const R=Hr(u[c[E]],f[m[E]]);if(R!==0)return R}return ne(c.length,m.length)}(t.mapValue,e.mapValue);default:throw G()}}function Td(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=ir(t),r=ir(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function Id(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Hr(n[i],r[i]);if(o)return o}return ne(n.length,r.length)}function br(t){return xu(t)}function xu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return lo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=xu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${xu(n.fields[l])}`;return i+"}"}(t.mapValue):G()}function Ou(t){return!!t&&"integerValue"in t}function jc(t){return!!t&&"arrayValue"in t}function ws(t){return!!t&&"mapValue"in t}function EE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Mi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wE(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.value=e}static empty(){return new Pt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ws(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mi(n)}setAll(e){let n=Oe.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}l?r[u.lastSegment()]=Mi(l):i.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ws(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ut(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ws(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pt(Mi(this.value))}}function Cg(t){const e=[];return vo(t.fields,(n,r)=>{const i=new Oe([n]);if(ws(r)){const o=Cg(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Ct(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,o,l,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new At(e,0,ce.min(),ce.min(),ce.min(),Pt.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,ce.min(),ce.min(),Pt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,ce.min(),ce.min(),Pt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.position=e,this.inclusive=n}}function Sd(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(l.referenceValue),n.key):r=Hr(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ad(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ut(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n="asc"){this.field=e,this.dir=n}}function TE(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{}class Ce extends Rg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SE(e,n,r):n==="array-contains"?new CE(e,r):n==="in"?new RE(e,r):n==="not-in"?new kE(e,r):n==="array-contains-any"?new DE(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AE(e,r):new PE(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hr(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Hr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dn extends Rg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dn(e,n)}matches(e){return kg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kg(t){return t.op==="and"}function Dg(t){return IE(t)&&kg(t)}function IE(t){for(const e of t.filters)if(e instanceof Dn)return!1;return!0}function Lu(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+br(t.value);if(Dg(t))return t.filters.map(e=>Lu(e)).join(",");{const e=t.filters.map(n=>Lu(n)).join(",");return`${t.op}(${e})`}}function Vg(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&Ut(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&Vg(l,i.filters[u]),!0):!1}(t,e):void G()}function Ng(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${br(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ng).join(" ,")+"}"}(t):"Filter"}class SE extends Ce{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class AE extends Ce{constructor(e,n){super(e,"in",n),this.keys=xg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class PE extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=xg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class CE extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jc(n)&&ao(n.arrayValue,this.value)}}class RE extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ao(this.value.arrayValue,n)}}class kE extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ao(this.value.arrayValue,n)}}class DE extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ao(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.ue=null}}function Pd(t,e=null,n=[],r=[],i=null,o=null,l=null){return new VE(t,e,n,r,i,o,l)}function zc(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>br(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>br(r)).join(",")),e.ue=n}return e.ue}function $c(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TE(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vg(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ad(t.startAt,e.startAt)&&Ad(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,r=[],i=[],o=null,l="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NE(t,e,n,r,i,o,l,u){return new Sl(t,e,n,r,i,o,l,u)}function xE(t){return new Sl(t)}function Cd(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OE(t){return t.collectionGroup!==null}function Fi(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ke(Oe.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new tl(o,r))}),n.has(Oe.keyField().canonicalString())||e.ce.push(new tl(Oe.keyField(),r))}return e.ce}function Xn(t){const e=ie(t);return e.le||(e.le=LE(e,Fi(t))),e.le}function LE(t,e){if(t.limitType==="F")return Pd(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tl(i.field,o)});const n=t.endAt?new el(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new el(t.startAt.position,t.startAt.inclusive):null;return Pd(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mu(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Og(t,e){return $c(Xn(t),Xn(e))&&t.limitType===e.limitType}function Lg(t){return`${zc(Xn(t))}|lt:${t.limitType}`}function wi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ng(i)).join(", ")}]`),Uc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>br(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>br(i)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function Hc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Fi(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,u,c){const f=Sd(l,u,c);return l.inclusive?f<=0:f<0}(r.startAt,Fi(r),i)||r.endAt&&!function(l,u,c){const f=Sd(l,u,c);return l.inclusive?f>=0:f>0}(r.endAt,Fi(r),i))}(t,e)}function ME(t){return(e,n)=>{let r=!1;for(const i of Fi(t)){const o=FE(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FE(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,l,u){const c=l.data.field(o),f=u.data.field(o);return c!==null&&f!==null?Hr(c,f):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Ag(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=new ot(K.comparator);function nl(){return UE}const Mg=new ot(K.comparator);function ss(...t){let e=Mg;for(const n of t)e=e.insert(n.key,n);return e}function Fg(t){let e=Mg;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Kn(){return Ui()}function Ug(){return Ui()}function Ui(){return new Yr(t=>t.toString(),(t,e)=>t.isEqual(e))}const BE=new ot(K.comparator),jE=new Ke(K.comparator);function Qe(...t){let e=jE;for(const n of t)e=e.add(n);return e}const zE=new Ke(ne);function $E(){return zE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(e)?"-0":e}}function Bg(t){return{integerValue:""+t}}function HE(t,e){return gE(e)?Bg(e):bc(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this._=void 0}}function bE(t,e,n){return t instanceof rl?function(i,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bc(o)&&(o=Pg(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(n,e):t instanceof uo?zg(t,e):t instanceof co?$g(t,e):function(i,o){const l=jg(i,o),u=Rd(l)+Rd(i.Pe);return Ou(l)&&Ou(i.Pe)?Bg(u):bc(i.serializer,u)}(t,e)}function QE(t,e,n){return t instanceof uo?zg(t,e):t instanceof co?$g(t,e):n}function jg(t,e){return t instanceof il?function(r){return Ou(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rl extends Al{}class uo extends Al{constructor(e){super(),this.elements=e}}function zg(t,e){const n=Hg(e);for(const r of t.elements)n.some(i=>Ut(i,r))||n.push(r);return{arrayValue:{values:n}}}class co extends Al{constructor(e){super(),this.elements=e}}function $g(t,e){let n=Hg(e);for(const r of t.elements)n=n.filter(i=>!Ut(i,r));return{arrayValue:{values:n}}}class il extends Al{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Rd(t){return xe(t.integerValue||t.doubleValue)}function Hg(t){return jc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function KE(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uo&&i instanceof uo||r instanceof co&&i instanceof co?zr(r.elements,i.elements,Ut):r instanceof il&&i instanceof il?Ut(r.Pe,i.Pe):r instanceof rl&&i instanceof rl}(t.transform,e.transform)}class WE{constructor(e,n){this.version=e,this.transformResults=n}}class Yt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yt}static exists(e){return new Yt(void 0,e)}static updateTime(e){return new Yt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ts(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pl{}function bg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kg(t.key,Yt.none()):new _o(t.key,t.data,Yt.none());{const n=t.data,r=Pt.empty();let i=new Ke(Oe.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new lr(t.key,r,new Ct(i.toArray()),Yt.none())}}function GE(t,e,n){t instanceof _o?function(i,o,l){const u=i.value.clone(),c=Dd(i.fieldTransforms,o,l.transformResults);u.setAll(c),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof lr?function(i,o,l){if(!Ts(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Dd(i.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(Qg(i)),c.setAll(u),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Bi(t,e,n,r){return t instanceof _o?function(o,l,u,c){if(!Ts(o.precondition,l))return u;const f=o.value.clone(),m=Vd(o.fieldTransforms,c,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof lr?function(o,l,u,c){if(!Ts(o.precondition,l))return u;const f=Vd(o.fieldTransforms,c,l),m=l.data;return m.setAll(Qg(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(o,l,u){return Ts(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function qE(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jg(r.transform,i||null);o!=null&&(n===null&&(n=Pt.empty()),n.set(r.field,o))}return n||null}function kd(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zr(r,i,(o,l)=>KE(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _o extends Pl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class lr extends Pl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Qg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Dd(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,QE(l,u,n[i]))}return r}function Vd(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,bE(o,l,e))}return r}class Kg extends Pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends Pl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GE(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ug();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(i.key)?null:u;const c=bg(l,u);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Qe())}isEqual(e){return this.batchId===e.batchId&&zr(this.mutations,e.mutations,(n,r)=>kd(n,r))&&zr(this.baseMutations,e.baseMutations,(n,r)=>kd(n,r))}}class Qc{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return BE}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Qc(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,q;function ZE(t){switch(t){default:return G();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function ew(t){if(t===void 0)return rr("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ee.OK:return L.OK;case Ee.CANCELLED:return L.CANCELLED;case Ee.UNKNOWN:return L.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return L.INTERNAL;case Ee.UNAVAILABLE:return L.UNAVAILABLE;case Ee.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ee.NOT_FOUND:return L.NOT_FOUND;case Ee.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ee.ABORTED:return L.ABORTED;case Ee.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ee.DATA_LOSS:return L.DATA_LOSS;default:return G()}}(q=Ee||(Ee={}))[q.OK=0]="OK",q[q.CANCELLED=1]="CANCELLED",q[q.UNKNOWN=2]="UNKNOWN",q[q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",q[q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",q[q.NOT_FOUND=5]="NOT_FOUND",q[q.ALREADY_EXISTS=6]="ALREADY_EXISTS",q[q.PERMISSION_DENIED=7]="PERMISSION_DENIED",q[q.UNAUTHENTICATED=16]="UNAUTHENTICATED",q[q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",q[q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",q[q.ABORTED=10]="ABORTED",q[q.OUT_OF_RANGE=11]="OUT_OF_RANGE",q[q.UNIMPLEMENTED=12]="UNIMPLEMENTED",q[q.INTERNAL=13]="INTERNAL",q[q.UNAVAILABLE=14]="UNAVAILABLE",q[q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new mg([4294967295,4294967295],0);class tw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rw(t,e){return Fu(t,e.toTimestamp())}function xr(t){return _e(!!t),ce.fromTimestamp(function(n){const r=ir(n);return new ke(r.seconds,r.nanos)}(t))}function Wg(t,e){return Uu(t,e).canonicalString()}function Uu(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iw(t){const e=ge.fromString(t);return _e(fw(e)),e}function Bu(t,e){return Wg(t.databaseId,e.path)}function ow(t){const e=iw(t);return e.length===4?ge.emptyPath():lw(e)}function sw(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lw(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Nd(t,e,n){return{name:Bu(t,e),fields:n.value.mapValue.fields}}function aw(t,e){let n;if(e instanceof _o)n={update:Nd(t,e.key,e.value)};else if(e instanceof Kg)n={delete:Bu(t,e.key)};else if(e instanceof lr)n={update:Nd(t,e.key,e.data),updateMask:hw(e.fieldMask)};else{if(!(e instanceof XE))return G();n={verify:Bu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof rl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof uo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof co)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof il)return{fieldPath:l.field.canonicalString(),increment:u.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:rw(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G()}(t,e.precondition)),n}function uw(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,o){let l=i.updateTime?xr(i.updateTime):xr(o);return l.isEqual(ce.min())&&(l=xr(o)),new WE(l,i.transformResults||[])}(n,e))):[]}function cw(t){let e=ow(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(E){const T=Gg(E);return T instanceof Dn&&Dg(T)?T.getFilters():[T]}(n.where));let l=[];n.orderBy&&(l=function(E){return E.map(T=>function(D){return new tl(dr(D.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(n.orderBy));let u=null;n.limit&&(u=function(E){let T;return T=typeof E=="object"?E.value:E,Uc(T)?null:T}(n.limit));let c=null;n.startAt&&(c=function(E){const T=!!E.before,R=E.values||[];return new el(R,T)}(n.startAt));let f=null;return n.endAt&&(f=function(E){const T=!E.before,R=E.values||[];return new el(R,T)}(n.endAt)),NE(e,i,l,o,u,"F",c,f)}function Gg(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dr(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=dr(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dr(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dr(n.unaryFilter.field);return Ce.create(l,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(dr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>Gg(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function dr(t){return Oe.fromServerFormat(t.fieldPath)}function hw(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.ct=e}}function pw(t){const e=cw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.un=new gw}addToCollectionParentIndex(e,n){return this.un.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(kn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(kn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class gw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(ge.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qr(0)}static kn(){return new Qr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.changes=new Yr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bi(r.mutation,i,Ct.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Qe()){const i=Kn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=ss();return o.forEach((u,c)=>{l=l.insert(u,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Kn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Qe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,r,i){let o=nl();const l=Ui(),u=function(){return Ui()}();return n.forEach((c,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof lr)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Bi(m.mutation,f,m.mutation.getFieldMask(),ke.now())):l.set(f.key,Ct.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>{var E;return u.set(f,new vw(m,(E=l.get(f))!==null&&E!==void 0?E:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Ui();let i=new ot((l,u)=>l-u),o=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let m=r.get(c)||Ct.empty();m=u.applyToLocalView(f,m),r.set(c,m);const E=(i.get(u.batchId)||Qe()).add(c);i=i.insert(u.batchId,E)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,m=c.value,E=Ug();m.forEach(T=>{if(!o.has(T)){const R=bg(n.get(T),r.get(T));R!==null&&E.set(T,R),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,E))}return x.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return K.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Kn());let u=-1,c=o;return l.next(f=>x.forEach(f,(m,E)=>(u<E.largestBatchId&&(u=E.largestBatchId),o.get(m)?x.resolve():this.remoteDocumentCache.getEntry(e,m).next(T=>{c=c.insert(m,T)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,c,f,Qe())).next(m=>({batchId:u,changes:Fg(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=ss();return this.indexManager.getCollectionParents(e,o).next(u=>x.forEach(u,c=>{const f=function(E,T){return new Sl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((E,T)=>{l=l.insert(E,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((c,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,At.newInvalidDocument(m)))});let u=ss();return l.forEach((c,f)=>{const m=o.get(c);m!==void 0&&Bi(m.mutation,f,Ct.empty(),ke.now()),Hc(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return x.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xr(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:pw(i.bundledQuery),readTime:xr(i.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.overlays=new ot(K.comparator),this.Ir=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Kn();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Kn(),o=n.length+1,l=new K(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Kn(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Kn(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return x.resolve(u)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new JE(n,r));let o=this.Ir.get(n);o===void 0&&(o=Qe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this.Tr=new Ke(Ae.Er),this.dr=new Ke(Ae.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ae(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ae(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new ge([])),r=new Ae(n,e),i=new Ae(n,e+1),o=[];return this.dr.forEachInRange([r,i],l=>{this.Vr(l),o.push(l.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new ge([])),r=new Ae(n,e),i=new Ae(n,e+1);let o=Qe();return this.dr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Ae(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ae{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||ne(e.wr,n.wr)}static Ar(e,n){return ne(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ke(Ae.Er)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new YE(o,n,r,i);this.mutationQueue.push(l);for(const u of i)this.br=this.br.add(new Ae(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return x.resolve(l)}lookupMutationBatch(e,n){return x.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ae(n,0),i=new Ae(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],l=>{const u=this.Dr(l.wr);o.push(u)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(ne);return n.forEach(i=>{const o=new Ae(i,0),l=new Ae(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,l],u=>{r=r.add(u.wr)})}),x.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const l=new Ae(new K(o),0);let u=new Ke(ne);return this.br.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.wr)),!0)},l),x.resolve(this.Cr(u))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return x.forEach(n.mutations,i=>{const o=new Ae(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ae(n,0),i=this.br.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.Mr=e,this.docs=function(){return new ot(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=nl();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=nl();const l=n.path,u=new K(l.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:m}}=c.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||fE(hE(m),r)<=0||(i.has(m.key)||Hc(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Aw(this)}getSize(e){return x.resolve(this.size)}}class Aw extends yw{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.persistence=e,this.Nr=new Yr(n=>zc(n),$c),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kc,this.targetCount=0,this.kr=Qr.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),x.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Qr(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Kn(n),x.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((l,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Nr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Sg(0),this.Kr=!1,this.Kr=!0,this.$r=new Tw,this.referenceDelegate=e(this),this.Ur=new Pw(this),this.indexManager=new mw,this.remoteDocumentCache=function(i){return new Sw(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dw(n),this.Gr=new Ew(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ww,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Iw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const i=new Rw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return x.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Rw extends pE{constructor(e){super(),this.currentSequenceNumber=e}}class Wc{constructor(e){this.persistence=e,this.Jr=new Kc,this.Yr=null}static Zr(e){return new Wc(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),x.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return x.or([()=>x.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Qe(),i=Qe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Gc(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return F0()?8:mE(L0())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new kw;return this.Xi(e,n,l).next(u=>{if(o.result=u,this.zi)return this.es(e,n,l,u.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ei()<=X.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",wi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),x.resolve()):(Ei()<=X.DEBUG&&$("QueryEngine","Query:",wi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ei()<=X.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",wi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):x.resolve())}Yi(e,n){if(Cd(n))return x.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mu(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=Qe(...o);return this.Ji.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.ts(n,u);return this.ns(n,f,l,c.readTime)?this.Yi(e,Mu(n,null,"F")):this.rs(e,f,n,c)}))})))}Zi(e,n,r,i){return Cd(n)||i.isEqual(ce.min())?x.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const l=this.ts(n,o);return this.ns(n,l,r,i)?x.resolve(null):(Ei()<=X.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wi(n)),this.rs(e,l,n,cE(i,-1)).next(u=>u))})}ts(e,n){let r=new Ke(ME(e));return n.forEach((i,o)=>{Hc(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ei()<=X.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",wi(n)),this.Ji.getDocumentsMatchingQuery(e,n,kn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ot(ne),this._s=new Yr(o=>zc(o),$c),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Nw(t,e,n,r){return new Vw(t,e,n,r)}async function qg(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let c=Qe();for(const f of i){l.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(f=>({hs:f,removedBatchIds:l,addedBatchIds:u}))})})}function xw(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,m){const E=f.batch,T=E.keys();let R=x.resolve();return T.forEach(D=>{R=R.next(()=>m.getEntry(c,D)).next(N=>{const F=f.docVersions.get(D);_e(F!==null),N.version.compareTo(F)<0&&(E.applyToRemoteDocument(N,f),N.isValidDocument()&&(N.setReadTime(f.commitVersion),m.addEntry(N)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(c,E))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=Qe();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ow(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Lw(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class xd{constructor(){this.activeTargetIds=$E()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mw{constructor(){this.so=new xd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new xd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ls=null;function Va(){return ls===null?ls=function(){return 268435456+Math.round(2147483648*Math.random())}():ls++,"0x"+ls.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class jw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,l){const u=Va(),c=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${u}:`,c,i);const f={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(f,o,l),this.No(n,c,f,i).then(m=>($("RestConnection",`Received RPC '${n}' ${u}: `,m),m),m=>{throw Xs("RestConnection",`RPC '${n}' ${u} failed with error: `,m,"url: ",c,"request:",i),m})}Lo(n,r,i,o,l,u){return this.Mo(n,r,i,o,l)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,l)=>n[l]=o),i&&i.headers.forEach((o,l)=>n[l]=o)}xo(n,r){const i=Uw[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Va();return new Promise((l,u)=>{const c=new gg;c.setWithCredentials(!0),c.listenOnce(yg.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Es.NO_ERROR:const m=c.getResponseJson();$($e,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case Es.TIMEOUT:$($e,`RPC '${e}' ${o} timed out`),u(new H(L.DEADLINE_EXCEEDED,"Request time out"));break;case Es.HTTP_ERROR:const E=c.getStatus();if($($e,`RPC '${e}' ${o} failed with status:`,E,"response text:",c.getResponseText()),E>0){let T=c.getResponseJson();Array.isArray(T)&&(T=T[0]);const R=T==null?void 0:T.error;if(R&&R.status&&R.message){const D=function(F){const I=F.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(I)>=0?I:L.UNKNOWN}(R.status);u(new H(D,R.message))}else u(new H(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new H(L.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{$($e,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);$($e,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",f,r,15)})}Bo(e,n,r){const i=Va(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Eg(),u=_g(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=o.join("");$($e,`Creating RPC '${e}' stream ${i}: ${m}`,c);const E=l.createWebChannel(m,c);let T=!1,R=!1;const D=new Bw({Io:F=>{R?$($e,`Not sending because RPC '${e}' stream ${i} is closed:`,F):(T||($($e,`Opening RPC '${e}' stream ${i} transport.`),E.open(),T=!0),$($e,`RPC '${e}' stream ${i} sending:`,F),E.send(F))},To:()=>E.close()}),N=(F,I,v)=>{F.listen(I,A=>{try{v(A)}catch(V){setTimeout(()=>{throw V},0)}})};return N(E,Pi.EventType.OPEN,()=>{R||($($e,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),N(E,Pi.EventType.CLOSE,()=>{R||(R=!0,$($e,`RPC '${e}' stream ${i} transport closed`),D.So())}),N(E,Pi.EventType.ERROR,F=>{R||(R=!0,Xs($e,`RPC '${e}' stream ${i} transport errored:`,F),D.So(new H(L.UNAVAILABLE,"The operation could not be completed")))}),N(E,Pi.EventType.MESSAGE,F=>{var I;if(!R){const v=F.data[0];_e(!!v);const A=v,V=A.error||((I=A[0])===null||I===void 0?void 0:I.error);if(V){$($e,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let B=function(g){const w=Ee[g];if(w!==void 0)return ew(w)}(U),y=V.message;B===void 0&&(B=L.INTERNAL,y="Unknown error status: "+U+" with message "+V.message),R=!0,D.So(new H(B,y)),E.close()}else $($e,`RPC '${e}' stream ${i} received:`,v),D.bo(v)}}),N(u,vg.STAT_EVENT,F=>{F.stat===Nu.PROXY?$($e,`RPC '${e}' stream ${i} detected buffering proxy`):F.stat===Nu.NOPROXY&&$($e,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}}function Na(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(t){return new tw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i,o,l,u,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $w extends zw{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=uw(e.writeResults,e.commitTime),r=xr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aw(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Mo(e,Uu(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(L.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Lo(e,Uu(n,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new H(L.UNKNOWN,l.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class bw{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rr(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(l=>{r.enqueueAndForget(async()=>{wo(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(c){const f=ie(c);f.L_.add(4),await Eo(f),f.q_.set("Unknown"),f.L_.delete(4),await Rl(f)}(this))})}),this.q_=new bw(r,i)}}async function Rl(t){if(wo(t))for(const e of t.B_)await e(!0)}async function Eo(t){for(const e of t.B_)await e(!1)}function wo(t){return ie(t).L_.size===0}async function Yg(t,e,n){if(!Il(e))throw e;t.L_.add(1),await Eo(t),t.q_.set("Offline"),n||(n=()=>Ow(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Rl(t)})}function Jg(t,e){return e().catch(n=>Yg(t,n,e))}async function kl(t){const e=ie(t),n=Vn(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kw(e);)try{const i=await Lw(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Ww(e,i)}catch(i){await Yg(e,i)}Zg(e)&&ey(e)}function Kw(t){return wo(t)&&t.O_.length<10}function Ww(t,e){t.O_.push(e);const n=Vn(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Zg(t){return wo(t)&&!Vn(t).n_()&&t.O_.length>0}function ey(t){Vn(t).start()}async function Gw(t){Vn(t).p_()}async function qw(t){const e=Vn(t);for(const n of t.O_)e.m_(n.mutations)}async function Xw(t,e,n){const r=t.O_.shift(),i=Qc.from(r,e,n);await Jg(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kl(t)}async function Yw(t,e){e&&Vn(t).V_&&await async function(r,i){if(function(l){return ZE(l)&&l!==L.ABORTED}(i.code)){const o=r.O_.shift();Vn(r).s_(),await Jg(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await kl(r)}}(t,e),Zg(t)&&ey(t)}async function Ld(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=wo(n);n.L_.add(3),await Eo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Rl(n)}async function Jw(t,e){const n=ie(t);e?(n.L_.delete(2),await Rl(n)):e||(n.L_.add(2),await Eo(n),n.q_.set("Unknown"))}function Vn(t){return t.U_||(t.U_=function(n,r,i){const o=ie(n);return o.w_(),new $w(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Gw.bind(null,t),mo:Yw.bind(null,t),f_:qw.bind(null,t),g_:Xw.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kl(t)):(await t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,u=new qc(e,n,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ty(t,e){if(rr("AsyncQueue",`${e}: ${t}`),Il(t))return new H(L.UNAVAILABLE,`${e}: ${t}`);throw t}class Zw{constructor(){this.queries=Md(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ie(n),o=i.queries;i.queries=Md(),o.forEach((l,u)=>{for(const c of u.j_)c.onError(r)})})(this,new H(L.ABORTED,"Firestore shutting down"))}}function Md(){return new Yr(t=>Lg(t),Og)}function eT(t){t.Y_.forEach(e=>{e.next()})}var Fd,Ud;(Ud=Fd||(Fd={})).ea="default",Ud.Cache="cache";class tT{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Ca={},this.Fa=new Yr(u=>Lg(u),Og),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(K.comparator),this.Na=new Map,this.La=new Kc,this.Ba={},this.ka=new Map,this.qa=Qr.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function nT(t,e,n){const r=sT(t);try{const i=await function(l,u){const c=ie(l),f=ke.now(),m=u.reduce((R,D)=>R.add(D.key),Qe());let E,T;return c.persistence.runTransaction("Locally write mutations","readwrite",R=>{let D=nl(),N=Qe();return c.cs.getEntries(R,m).next(F=>{D=F,D.forEach((I,v)=>{v.isValidDocument()||(N=N.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(R,D)).next(F=>{E=F;const I=[];for(const v of u){const A=qE(v,E.get(v.key).overlayedDocument);A!=null&&I.push(new lr(v.key,A,Cg(A.value.mapValue),Yt.exists(!0)))}return c.mutationQueue.addMutationBatch(R,f,I,u)}).next(F=>{T=F;const I=F.applyToLocalDocumentSet(E,N);return c.documentOverlayCache.saveOverlays(R,F.batchId,I)})}).then(()=>({batchId:T.batchId,changes:Fg(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,c){let f=l.Ba[l.currentUser.toKey()];f||(f=new ot(ne)),f=f.insert(u,c),l.Ba[l.currentUser.toKey()]=f}(r,i.batchId,n),await Dl(r,i.changes),await kl(r.remoteStore)}catch(i){const o=ty(i,"Failed to persist write");n.reject(o)}}function Bd(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,l)=>{const u=l.view.Z_(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const c=ie(l);c.onlineState=u;let f=!1;c.queries.forEach((m,E)=>{for(const T of E.j_)T.Z_(u)&&(f=!0)}),f&&eT(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rT(t,e){const n=ie(t),r=e.batch.batchId;try{const i=await xw(n.localStore,e);ry(n,r,null),ny(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Dl(n,i)}catch(i){await Ig(i)}}async function iT(t,e,n){const r=ie(t);try{const i=await function(l,u){const c=ie(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return c.mutationQueue.lookupMutationBatch(f,u).next(E=>(_e(E!==null),m=E.keys(),c.mutationQueue.removeMutationBatch(f,E))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>c.localDocuments.getDocuments(f,m))})}(r.localStore,e);ry(r,e,n),ny(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Dl(r,i)}catch(i){await Ig(i)}}function ny(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ry(t,e,n){const r=ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}async function Dl(t,e,n){const r=ie(t),i=[],o=[],l=[];r.Fa.isEmpty()||(r.Fa.forEach((u,c)=>{l.push(r.Ka(c,e,n).then(f=>{var m;if((f||n)&&r.isPrimaryClient){const E=f?!f.fromCache:(m=void 0)===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,E?"current":"not-current")}if(f){i.push(f);const E=Gc.Wi(c.targetId,f);o.push(E)}}))}),await Promise.all(l),r.Ca.d_(i),await async function(c,f){const m=ie(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>x.forEach(f,T=>x.forEach(T.$i,R=>m.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>x.forEach(T.Ui,R=>m.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!Il(E))throw E;$("LocalStore","Failed to update sequence numbers: "+E)}for(const E of f){const T=E.targetId;if(!E.fromCache){const R=m.os.get(T),D=R.snapshotVersion,N=R.withLastLimboFreeSnapshotVersion(D);m.os=m.os.insert(T,N)}}}(r.localStore,o))}async function oT(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=await qg(n.localStore,e);n.currentUser=e,function(o,l){o.ka.forEach(u=>{u.forEach(c=>{c.reject(new H(L.CANCELLED,l))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Dl(n,r.hs)}}function sT(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iT.bind(null,e),e}class ol{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cl(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Nw(this.persistence,new Dw,e.initialUser,this.serializer)}Ga(e){return new Cw(Wc.Zr,this.serializer)}Wa(e){return new Mw}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ol.provider={build:()=>new ol};class ju{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oT.bind(null,this.syncEngine),await Jw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Zw}()}createDatastore(e){const n=Cl(e.databaseInfo.databaseId),r=function(o){return new jw(o)}(e.databaseInfo);return function(o,l,u,c){return new Hw(o,l,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,u){return new Qw(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Bd(this.syncEngine,n,0),function(){return Od.D()?new Od:new Fw}())}createSyncEngine(e,n){return function(i,o,l,u,c,f,m){const E=new tT(i,o,l,u,c,f);return m&&(E.Qa=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ie(i);$("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Eo(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ju.provider={build:()=>new ju};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=He.UNAUTHENTICATED,this.clientId=Tg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{$("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>($("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ty(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function xa(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qg(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jd(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aT(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ld(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ld(e.remoteStore,i)),t._onlineComponents=e}async function aT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await xa(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await xa(t,new ol)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await xa(t,new ol);return t._offlineComponents}async function uT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await jd(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await jd(t,new ju))),t._onlineComponents}function cT(t){return uT(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e,n){if(!n)throw new H(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hT(t,e,n,r){if(e===!0&&r===!0)throw new H(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $d(t){if(!K.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hd(t){if(K.isDocumentKey(t))throw new H(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function sy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xc(t);throw new H(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vl{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tE;switch(r.type){case"firstParty":return new oE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zd.get(n);r&&($("ComponentProvider","Removing Datastore"),zd.delete(n),r.terminate())}(this),Promise.resolve()}}function fT(t,e,n,r={}){var i;const o=(t=sy(t,Vl))._getSettings(),l=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==l&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),r.mockUserToken){let u,c;if(typeof r.mockUserToken=="string")u=r.mockUserToken,c=He.MOCK_USER;else{u=O0(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new He(f)}t._authCredentials=new nE(new wg(u,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yc(this.firestore,e,this._query)}}class Jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Pn extends Yc{constructor(e,n,r){super(e,n,xE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new K(e))}withConverter(e){return new Pn(this.firestore,e,this._path)}}function ly(t,e,...n){if(t=ro(t),oy("collection","path",e),t instanceof Vl){const r=ge.fromString(e,...n);return Hd(r),new Pn(t,null,r)}{if(!(t instanceof Jt||t instanceof Pn))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return Hd(r),new Pn(t.firestore,null,r)}}function dT(t,e,...n){if(t=ro(t),arguments.length===1&&(e=Tg.newId()),oy("doc","path",e),t instanceof Vl){const r=ge.fromString(e,...n);return $d(r),new Jt(t,null,new K(r))}{if(!(t instanceof Jt||t instanceof Pn))throw new H(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return $d(r),new Jt(t.firestore,t instanceof Pn?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Xg(this,"async_queue_retry"),this.Vu=()=>{const r=Na();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Na();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Na();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Il(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=qc.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&G()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ay extends Vl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Qd,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qd(e),this._firestoreClient=void 0,await e}}}function pT(t,e){const n=typeof t=="object"?t:H1(),r=typeof t=="string"?t:"(default)",i=B1(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=N0("firestore");o&&fT(i,...o)}return i}function mT(t){if(t._terminated)throw new H(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gT(t),t._firestoreClient}function gT(t){var e,n,r;const i=t._freezeSettings(),o=function(u,c,f,m){return new _E(u,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iy(m.experimentalLongPollingOptions),m.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lT(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Ft.fromBase64String(e))}catch(n){throw new H(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/^__.*__$/;class vT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _o(e,this.data,n,this.fieldTransforms)}}function dy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class Jc{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jc(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return sl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(dy(this.Cu)&&yT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _T{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Cl(e)}Qu(e,n,r,i=!1){return new Jc({Cu:e,methodName:n,qu:r,path:Oe.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ET(t){const e=t._freezeSettings(),n=Cl(t._databaseId);return new _T(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wT(t,e,n,r,i,o={}){const l=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);yy("Data must be an object, but it was:",l,r);const u=my(r,l);let c,f;if(o.merge)c=new Ct(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const E of o.mergeFields){const T=TT(e,E,n);if(!l.contains(T))throw new H(L.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);AT(m,T)||m.push(T)}c=new Ct(m),f=l.fieldTransforms.filter(E=>c.covers(E.field))}else c=null,f=l.fieldTransforms;return new vT(new Pt(u),c,f)}function py(t,e){if(gy(t=ro(t)))return yy("Unsupported field value:",e,t),my(t,e);if(t instanceof cy)return function(r,i){if(!dy(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let c=py(u,i.Lu(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ro(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ke.fromDate(r);return{timestampValue:Fu(i.serializer,o)}}if(r instanceof ke){const o=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fu(i.serializer,o)}}if(r instanceof hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:nw(i.serializer,r._byteString)};if(r instanceof Jt){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Bu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fy)return function(l,u){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(c=>{if(typeof c!="number")throw u.Bu("VectorValues must only contain numeric values.");return bc(u.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Xc(r)}`)}(t,e)}function my(t,e){const n={};return Ag(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,(r,i)=>{const o=py(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof hy||t instanceof ho||t instanceof Jt||t instanceof cy||t instanceof fy)}function yy(t,e,n){if(!gy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Xc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function TT(t,e,n){if((e=ro(e))instanceof uy)return e._internalPath;if(typeof e=="string")return ST(t,e);throw sl("Field path arguments must be of type string or ",t,!1,void 0,n)}const IT=new RegExp("[~\\*/\\[\\]]");function ST(t,e,n){if(e.search(IT)>=0)throw sl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uy(...e.split("."))._internalPath}catch{throw sl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sl(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new H(L.INVALID_ARGUMENT,u+t+c)}function AT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function vy(t,e){const n=sy(t.firestore,ay),r=dT(t),i=PT(t.converter,e);return CT(n,[wT(ET(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yt.exists(!1))]).then(()=>r)}function CT(t,e){return function(r,i){const o=new qn;return r.asyncQueue.enqueueAndForget(async()=>nT(await cT(r),i,o)),o.promise}(mT(t),e)}(function(e,n=!0){(function(i){Xr=i})($1),qs(new io("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new ay(new rE(r.getProvider("auth-internal")),new lE(r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new H(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zs(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Nr(_d,"4.7.3",e),Nr(_d,"4.7.3","esm2017")})();const RT={apiKey:"AIzaSyCoQwLb9nmh_02HqSSJ8Y0JHaJNm0YlSIA",authDomain:"tachibana-kaikei.firebaseapp.com",projectId:"tachibana-kaikei",storageBucket:"tachibana-kaikei.appspot.com",messagingSenderId:"377640979573",appId:"1:377640979573:web:723d2e297db6f3d508fc3c",measurementId:"G-C4G1JD2LC5"},kT=fg(RT),_y=pT(kT),DT=()=>{const[t,e]=Ot.useState(""),[n,r]=Ot.useState(""),[i,o]=Ot.useState(""),[l,u]=Ot.useState(!0),c=async f=>{f.preventDefault();try{await vy(ly(_y,"products"),{name:t,price:parseInt(n),stock:parseInt(i),is_available:l}),e(""),r(""),o(""),alert("商品が登録されました")}catch(m){console.error("エラーが発生しました: ",m)}};return we.jsxs("form",{onSubmit:c,children:[we.jsx("input",{type:"text",placeholder:"商品名",value:t,onChange:f=>e(f.target.value),required:!0}),we.jsx("input",{type:"number",placeholder:"値段",value:n,onChange:f=>r(f.target.value),required:!0}),we.jsx("input",{type:"number",placeholder:"在庫数",value:i,onChange:f=>o(f.target.value),required:!0}),we.jsxs("label",{children:["販売可能:",we.jsx("input",{type:"checkbox",checked:l,onChange:f=>u(f.target.checked)})]}),we.jsx("button",{type:"submit",children:"商品登録"})]})},VT=()=>{const[t,e]=Ot.useState(""),[n,r]=Ot.useState(""),[i,o]=Ot.useState(""),l=async u=>{u.preventDefault();try{await vy(ly(_y,"sales"),{productId:t,quantity:parseInt(n),totalPrice:parseInt(i),timestamp:new Date}),e(""),r(""),o(""),alert("売上が記録されました")}catch(c){console.error("エラーが発生しました: ",c)}};return we.jsxs("form",{onSubmit:l,children:[we.jsx("input",{type:"text",placeholder:"商品ID",value:t,onChange:u=>e(u.target.value),required:!0}),we.jsx("input",{type:"number",placeholder:"数量",value:n,onChange:u=>r(u.target.value),required:!0}),we.jsx("input",{type:"number",placeholder:"合計金額",value:i,onChange:u=>o(u.target.value),required:!0}),we.jsx("button",{type:"submit",children:"売上記録"})]})};function NT(){return we.jsxs("div",{children:[we.jsx("h1",{children:"文化祭 屋台販売会計アプリ"}),we.jsx("h2",{children:"商品登録"}),we.jsx(DT,{}),we.jsx("h2",{children:"売上伝票"}),we.jsx(VT,{})]})}ig(document.getElementById("root")).render(we.jsx(Ot.StrictMode,{children:we.jsx(NT,{})}));
